(this.webpackJsonplicresia_demo=this.webpackJsonplicresia_demo||[]).push([[0],{34:function(n,e,t){},61:function(n,e,t){"use strict";t.r(e);var i,c=t(7),o=t.n(c),r=t(20),a=t.n(r),s=(t(34),t(2)),l=t(8),d=t(3),b=t(5),h=t(4),x=[null,{index:0,isFlat:!1},{index:1,isFlat:!1},{index:1,isFlat:!0},{index:2,isFlat:!1},{index:3,isFlat:!1},{index:3,isFlat:!0},{index:4,isFlat:!1},{index:5,isFlat:!1},{index:6,isFlat:!1},{index:6,isFlat:!0},{index:7,isFlat:!1},{index:8,isFlat:!1},{index:8,isFlat:!0},{index:9,isFlat:!1},{index:10,isFlat:!1},{index:10,isFlat:!0},{index:11,isFlat:!1}],u=["\u2160","b\u2161","\u2161","b\u2162","\u2162","\u2163","b\u2164","\u2164","b\u2165","\u2165","b\u2166","\u2166"],p=["\u2160","#\u2160","\u2161","#\u2161","\u2162","\u2163","#\u2163","\u2164","#\u2164","\u2165","#\u2165","\u2166"],j=function(n){return(n.isFlat?u:p)[n.index]},f=["C","Db","D","Eb","E","F","Gb","G","Ab","A","Bb","B"],g=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],O=function(n,e){return(n.isFlat?f:g)[(e+n.index)%12]},v=["C","Db","D","Eb","E","F","F#","G","Ab","A","Bb","B"],k=["C","C#","D","D#","E","F","F#","G","G#","A","Bb","B"],m=[{key:"major",name:"",base:null,structs:["p1","M3","p5"],attr:"triad"},{key:"minor",name:"m",base:null,structs:["p1","m3","p5"],attr:"triad"},{key:"suspend4th",name:"sus4",base:null,structs:["p1","p4","p5"],attr:"triad"},{key:"diminish",name:"dim",base:null,structs:["p1","m3","d5"],attr:"triad"},{key:"diminish-7th",name:"dim7",base:"diminish",structs:["p1","m3","d5","d7"],attr:"seventh"},{key:"augument",name:"aug",base:null,structs:["p1","M3","a5"],attr:"triad"},{key:"augument-7th",name:"aug7",base:"augument",structs:["p1","M3","a5","m7"]},{key:"minor-minus5",name:"m(-5)",base:null,structs:["p1","m3","d5"],attr:"triad"},{key:"minor7-minus5",name:"m7(-5)",base:"minor-minus5",structs:["p1","m3","d5","m7"],attr:"seventh"},{key:"major-maj7th",name:"maj7",base:"major",structs:["p1","M3","p5","M7"],attr:"seventh"},{key:"major-min7th",name:"7",base:"major",structs:["p1","M3","p5","m7"],attr:"seventh"},{key:"minor-7th",name:"m7",base:"minor",structs:["p1","m3","p5","m7"],attr:"seventh"},{key:"sus4-7th",name:"7sus4",base:"suspend4th",structs:["p1","p4","p5"]},{key:"minor-maj7th",name:"mmaj7",base:"minor",structs:["p1","m3","p5","M7"],attr:"seventh"},{key:"major-add9th",name:"add9",base:"major",structs:["p1","M3","p5","M2"],attr:"add9th"},{key:"minor-add9th",name:"madd9",base:"minor",structs:["p1","m3","p5","M2"],attr:"add9th"},{key:"major-maj9th",name:"maj9",base:"major-maj7th",structs:["p1","m3","p5"],attr:"add9th"},{key:"major-9th",name:"9",base:"major-min7th",structs:["p1","m3","p5"]}],y={p1:0,m2:1,M2:2,m3:3,M3:4,p4:5,d5:6,p5:7,a5:8,m6:8,M6:9,d7:9,m7:10,M7:11},w=[{root:{index:0,isFlat:!1},symbolKey:"major"},{root:{index:2,isFlat:!1},symbolKey:"minor"},{root:{index:4,isFlat:!1},symbolKey:"minor"},{root:{index:5,isFlat:!1},symbolKey:"major"},{root:{index:7,isFlat:!1},symbolKey:"major"},{root:{index:9,isFlat:!1},symbolKey:"minor"},{root:{index:11,isFlat:!1},symbolKey:"minor-minus5"}],S=["\u2160","\u2160maj7","\u2161m","\u2161m7","\u2162m","\u2162m7","\u2163","\u2163maj7","\u2164","\u21647","\u2165m","\u2165m7","\u2166m(-5)","\u2166m7(-5)"],C=function(n){var e=m.find((function(e){if(n===e.key)return e}));return void 0!=e?e:m[0]},E=function(n){var e=[];return m.forEach((function(t){n===t.base&&e.push(t.key)})),e};!function(n){n[n.SET_SYSTEM_STATE=0]="SET_SYSTEM_STATE",n[n.SET_SCORE_STATE=1]="SET_SCORE_STATE",n[n.SET_TUNE_STATE=2]="SET_TUNE_STATE",n[n.SET_SCORE_DATA=3]="SET_SCORE_DATA",n[n.SET_REFS=4]="SET_REFS",n[n.SET_INSTRUMENTS=5]="SET_INSTRUMENTS",n[n.SET_BACKING_STATE=6]="SET_BACKING_STATE"}(i||(i={}));var z,L,I,T,A,D,F,M,R,K,N,_,B,P,U,H,X,q,G,V,Y,W,J,Q,Z,$,nn,en,tn,cn,on,rn,an,sn,ln,dn,bn,hn,xn,un,pn,jn,fn,gn,On,vn,kn,mn,yn,wn,Sn,Cn,En,zn,Ln,In,Tn,An,Dn,Fn,Mn,Rn,Kn,Nn,_n,Bn,Pn,Un,Hn,Xn,qn,Gn,Vn,Yn,Wn,Jn,Qn,Zn,$n,ne,ee,te,ie,ce,oe,re,ae,se,le,de,be,he,xe,ue,pe,je,fe,ge,Oe,ve,ke,me,ye,we,Se,Ce,Ee,ze,Le,Ie,Te,Ae,De,Fe,Me,Re,Ke,Ne,_e,Be,Pe,Ue,He,Xe,qe,Ge,Ve,Ye,We,Je,Qe,Ze,$e,nt,et,tt,it,ct,ot,rt,at,st,lt,dt,bt,ht,xt,ut,pt,jt,ft,gt,Ot,vt,kt,mt,yt,wt,St,Ct,Et,zt,Lt,It,Tt,At,Dt,Ft,Mt,Rt,Kt,Nt,_t,Bt,Pt,Ut,Ht,Xt,qt,Gt,Vt,Yt,Wt,Jt,Qt,Zt,$t,ni,ei,ti,ii,ci,oi,ri,ai,si,li,di,bi,hi,xi,ui,pi,ji,fi,gi,Oi,vi,ki,mi,yi,wi,Si,Ci,Ei,zi,Li,Ii,Ti,Ai,Di,Fi,Mi,Ri,Ki,Ni,_i,Bi,Pi,Ui,Hi,Xi,qi,Gi,Vi,Yi,Wi,Ji,Qi,Zi,$i,nc,ec,tc,ic,cc,oc,rc,ac,sc,lc,dc,bc,hc,xc,uc,pc,jc,fc,gc,Oc,vc,kc,mc,yc,wc,Sc,Cc,Ec,zc,Lc,Ic,Tc,Ac,Dc,Fc,Mc,Rc,Kc,Nc,_c,Bc,Pc,Uc,Hc,Xc,qc,Gc,Vc,Yc,Wc,Jc,Qc,Zc,$c,no,eo,to,io,co,oo,ro,ao,so,lo,bo,ho,xo,uo,po,jo,fo,go,Oo,vo,ko,mo,yo,wo,So,Co,Eo,zo,Lo,Io,To,Ao=function(n,e){var t=e.type,c=e.payload;switch(t){case i.SET_SYSTEM_STATE:n.systemState=c.systemState;break;case i.SET_SCORE_STATE:n.scoreState=c.scoreState;break;case i.SET_SCORE_DATA:n.scoreData=c.scoreData;break;case i.SET_TUNE_STATE:n.tuneState=c.tuneState;break;case i.SET_REFS:n.refs=c.refs;break;case i.SET_INSTRUMENTS:n.instruments=c.instruments;break;case i.SET_BACKING_STATE:n.backingState=c.backingState}return Object(b.a)({},n)},Do=t(29),Fo=function n(e,t){var c=this;Object(h.a)(this,n),this.store=void 0,this.dispatch=void 0,this.system={setState:function(n){c.dispatch(i.SET_SYSTEM_STATE,{systemState:n})},switchSplashToMain:function(){var n=c.store.systemState;n.isSplash=!1,c.dispatch(i.SET_SYSTEM_STATE,{systemState:n})},setMainTabIndex:function(n){var e=c.store.systemState;e.mainChannelIndex=n,c.dispatch(i.SET_SYSTEM_STATE,{systemState:e})},setRefs:function(n){c.dispatch(i.SET_REFS,{refs:n})}},this.score={setScoreTabIndex:function(n){var e=c.store.systemState;e.scoreTabIndex=n,c.dispatch(i.SET_SYSTEM_STATE,{systemState:e})},setScoreState:function(n){c.dispatch(i.SET_SCORE_STATE,{scoreState:n})},setKeySwitch:function(n){var e=c.store.scoreState;e.keySwitch=n,c.score.setScoreState(e)},setScoreData:function(n){c.dispatch(i.SET_SCORE_DATA,{scoreData:n})},moveElement:function(n){var e=c.store.scoreState,t=n?1:-1;"fixed"!==c.store.scoreData.chordList[e.focusIndex+t].type&&(e.focusIndex+=t,c.score.setScoreState(e))},moveSection:function(n){var e=c.store.scoreState,t=e.elementCacheList[e.focusIndex].sectionNo,i=e.sectionCacheList,o=i[t],r=c.store.scoreData.chordList[e.focusIndex].type;n?t<i.length-1?e.focusIndex=i[t+1].rangeIndexStart:e.focusIndex=o.rangeIndexEnd:e.focusIndex="section"===r&&t>0?i[t-1].rangeIndexStart:o.rangeIndexStart,c.score.setScoreState(e)},incrementDegreeRoot:function(n){var e=c.store.scoreState,t=c.store.scoreData,i=t.chordList[e.focusIndex].detail,o=n?1:-1;null==i.root?(i.root={index:0,isFlat:!1},c.score.setScoreData(t)):i.root.index+o>=0&&i.root.index+o<=11&&(i.root.index+=o,i.root.isFlat=!n&&![0,2,4,5,7,9,11].includes(i.root.index),c.score.setScoreData(t))},incrementBeatLen:function(n){var e=c.store.scoreState,t=c.store.scoreData,i=t.chordList.slice(),o=i[e.focusIndex].detail,r=n?1:-1;o.beatLen+r>=1&&o.beatLen+r<=4&&(o.beatLen+=r,t.chordList=i,c.score.setScoreData(t))},incrementMinuteVal:function(n,e,t){var i=c.store.scoreData,o=i.chordList[n].detail,r=e?o.minute.tail:o.minute.head;(r+=t)>=-.5&&r<=.5&&(e?o.minute.tail=r:o.minute.head=r,i.chordList=i.chordList.slice(),c.score.setScoreData(i))},incrementMinuteValRelation:function(n,e){var t=c.store.scoreState.focusIndex,i=c.store.scoreData.chordList,o=-1;if(n){for(var r=t+1;r<i.length-1;r++)if("chord"===i[r].type){o=r;break}}else for(var a=t-1;a>2;a--)if("chord"===i[a].type){o=a;break}-1!=o&&(c.score.incrementMinuteVal(t,n,e),c.score.incrementMinuteVal(o,!n,-e))},addChordElement:function(){var n=c.store.scoreState,e=c.store.scoreData,t={type:"chord",detail:{beatLen:n.initialBeat,minute:{head:0,tail:0},root:null,on:null,symbolKey:"major",backing:{voicingList:[],pattern:null}}};e.chordList.splice(n.focusIndex+1,0,t),c.score.setScoreData(e)},addSectionElement:function(){var n=c.store.scoreState,e=c.store.scoreData;e.chordList.splice(n.focusIndex+1,0,{type:"section",detail:{labelName:"Section"}}),c.score.setScoreData(e)},addChangeElement:function(){var n=c.store.scoreState,e=c.store.scoreData;e.chordList.splice(n.focusIndex+1,0,{type:"change",detail:{changeType:null,modulateRelation:null,domminantValue:0,keyAdjust:0,tempoRelation:null,tempoDiff:0,tempoRate:1,tempoAbsolute:0,beatSignature:"4/4"}}),c.score.setScoreData(e)},removeCurElement:function(){var n=c.store.scoreState,e=c.store.scoreData.chordList[n.focusIndex],t=c.store.scoreState.elementCacheList[n.focusIndex].sectionNo;if("section"!==e.type||0!==t){var i=n.elementCacheList[n.focusIndex],o=i.reffers.wrap;i.reffers.body;o.style.opacity="0",o.style.overflow="hidden",o.style.width="".concat(o.clientWidth,"px"),setTimeout((function(){o.style.width="0"}),1),setTimeout((function(){o.style.opacity="",o.style.width="",o.style.overflow="";var e=c.store.scoreData;e.chordList.splice(n.focusIndex,1),c.score.setScoreData(e),n.focusIndex--,c.score.setScoreState(n)}),200)}},incrementSymbol:function(n){var e=c.store.scoreState,t=c.store.scoreData,i=t.chordList[e.focusIndex].detail,o=n?1:-1;null==i.root?(i.root={index:0,isFlat:!1},c.score.setScoreData(t)):i.root.index+o>=0&&i.root.index+o<=11&&(i.root.index+=o,i.root.isFlat=!n&&![0,2,4,5,7,9,11].includes(i.root.index),c.score.setScoreData(t))},setDiatonicChord:function(n){var e=c.store.scoreState,t=c.store.scoreData,i=t.chordList[e.focusIndex].detail,o=w[n];i.root=Object(b.a)({},o.root),i.symbolKey=o.symbolKey,c.score.setScoreData(t)},setDefaultBacking:function(){var n=c.store.scoreState,e=c.store.scoreData,t=e.chordList[n.focusIndex].detail,i=C(t.symbolKey);void 0!=i.attr&&(t.backing=function(n){var e=[];switch(n){case"triad":e=[{struct:0,octave:3},{struct:1,octave:3},{struct:2,octave:3}];break;case"seventh":case"add9th":e=[{struct:0,octave:3},{struct:1,octave:3},{struct:2,octave:3},{struct:3,octave:3}]}return{voicingList:e,pattern:null}}(i.attr),c.score.setScoreData(e))}},this.symbol={toNext:function(n){var e=c.store.scoreState,t=e.symbolMng,i=c.store.scoreData,o=i.chordList[e.focusIndex].detail,r=n?1:-1,a=t.index+r;a>=0&&a<=t.curLine.length-1&&(t.index+=r,o.symbolKey=t.curLine[t.index],c.score.setScoreState(e),c.score.setScoreData(i))},toBase:function(){var n=c.store.scoreState,e=n.symbolMng,t=c.store.scoreData,i=t.chordList[n.focusIndex].detail;e.parentLine.length>0&&(i.symbolKey=e.parentLine[0],c.score.setScoreData(t))},toDerive:function(){var n=c.store.scoreState,e=n.symbolMng,t=c.store.scoreData,i=t.chordList[n.focusIndex].detail;e.childrenLine.length>0&&(i.symbolKey=e.childrenLine[0],c.score.setScoreData(t))}},this.tune={setState:function(n){c.dispatch(i.SET_TUNE_STATE,{tuneState:n})},setNotesList:function(n){var e=c.store.scoreData;e.notesList=n,c.score.setScoreData(e)},setInstrument:function(n){c.dispatch(i.SET_INSTRUMENTS,{instruments:Object(b.a)(Object(b.a)({},c.store.instruments),{},{soundfontPlayer:n})})}},this.backing={openBackingEditor:function(){var n=c.store.scoreState,e=c.store.scoreData.chordList[n.focusIndex].detail;n.hideMenu="backing",c.score.setScoreState(n);var t=c.backing.getInitVoicingTable(e.backing.voicingList);c.backing.setState({chordInfo:{symbolKey:e.symbolKey,beatLen:e.beatLen,minute:e.minute,chordRoot:e.root.index},voicingTable:t,pattern:null})},closeBackingEditor:function(){var n=c.store.scoreState;n.hideMenu="none",c.score.setScoreState(n)},setState:function(n){c.dispatch(i.SET_BACKING_STATE,{backingState:n})},getInitialLayer:function(){return{noteDivList:[{rate:4,isHalf:!1,isDiv3:!1}],table:[["-"]],velocityList:[5]}},getInitVoicingTable:function(n){for(var e=new Array(8),t=function(t){e[t]=new Array(6);for(var i=e[t],c=function(i){var c=n.find((function(n){if(n.octave===t&&n.struct===i)return n}));e[t][i]=null!=c},o=0;o<i.length;o++)c(o)},i=0;i<e.length;i++)t(i);return e},applyBackingToChord:function(){var n=c.store.scoreState,e=c.store.scoreData,t=e.chordList[n.focusIndex].detail,i=c.store.backingState.voicingTable,o=t.backing;if(o.voicingList.length=0,null!=i)for(var r=0;r<i.length;r++)for(var a=0;a<i[r].length;a++)i[r][a]&&o.voicingList.push({octave:r,struct:a});t.backing=o,c.score.setScoreData(e)},getChannels:function(n){for(var e=[],t=0;t<n.length;t++)for(var i=0;i<n[t].length;i++)n[t][i]&&e.push({octave:t,structIndex:i});return 0===e.length&&e.push({octave:-1,structIndex:0}),e},addPatternColumn:function(){var n=c.store.backingState,e=n.pattern;e.layers[e.layerIndex].noteDivList.splice(e.lenIndex+1,0,{rate:4,isDiv3:!1,isHalf:!1}),c.backing.setState(n)},movePatternColumn:function(n){var e=c.store.backingState,t=e.pattern,i=t.layers[t.layerIndex],o=t.lenIndex;(o+=1*(n?1:-1))>=0&&o<=i.noteDivList.length-1&&(t.lenIndex=o),c.backing.setState(e)},setCurrentDivRate:function(n){var e=c.store.backingState,t=e.pattern;t.layers[t.layerIndex].noteDivList[t.lenIndex].rate=n,c.backing.setState(e)},toggleCurrentDivHalf:function(){var n=c.store.backingState,e=n.pattern,t=e.layers[e.layerIndex].noteDivList[e.lenIndex];t.isHalf=!t.isHalf,c.backing.setState(n)},changeLayer:function(){var n=c.store.backingState,e=n.pattern;e.layerIndex=0===e.layerIndex?1:0,e.lenIndex=0,c.backing.setState(n)}},this.store=e,this.dispatch=function(n,e){return t({type:n,payload:e})}},Mo={userEnv:{keyConfig:{note:{prevElement:"ArrowLeft",nextElement:"ArrowRight",prevSection:"ArrowUp",nextSection:"ArrowDown",addChord:"a",addSection:"s",addChange:"f",deleteCur:"Delete",editMode:"Shift",incRoot:"ArrowUp",decRoot:"ArrowDown",incBeat:"ArrowRight",decBeat:"ArrowLeft",symbolMode:"c"}},colorProps:{entryBackground:"#e2a9ae"}},systemState:{isSplash:!0,mainChannelIndex:0,scoreTabIndex:0,dialogMode:"none"},backingState:null,scoreState:{isTune:!1,initialBeat:4,focusIndex:-1,elementCacheList:[],sectionCacheList:[],keySwitch:{editMode:!1,symbolMode:!1},symbolMng:null,hideMenu:"none"},tuneState:{focusIndex:-1,quantize:4},scoreData:{chordList:[],notesList:[]},instruments:{sampler:new Do.a({C2:"https://dl.dropbox.com/s/9v1e4vb2y49kvxe/KEPSREC036.mp3?dl=0",C3:"https://dl.dropbox.com/s/qjkoqqdkqwtnctj/KEPSREC048.mp3?dl=0",C4:"https://dl.dropbox.com/s/9fgqyu7hsj8fncc/KEPSREC060.mp3?dl=0",C5:"https://dl.dropbox.com/s/0v042zfk67q4a8d/KEPSREC072.mp3?dl=0",C6:"https://dl.dropbox.com/s/3u2c7qsmhnse575/KEPSREC084.mp3?dl=0"}).toDestination(),soundfontPlayer:null},refs:{harmonize:{note:{}},melody:{table:null,measure:null,chord:null,pitch:null}}},Ro=100,Ko=30,No=t(1),_o=function(){var n=Object(c.useContext)(rb),e=n.store,t=(n.dispatcher,"none"!==e.systemState.dialogMode);return Object(No.jsx)(Bo,{isDisplay:t,children:Object(No.jsx)(Po,{})})},Bo=d.b.div(z||(z=Object(s.a)(["\n    display: ",";\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    background-color: #000000d8;\n    z-index: 10;\n"])),(function(n){return n.isDisplay?"block":"none"})),Po=d.b.div(L||(L=Object(s.a)(["\n    display: inline-block;\n    position: absolute;\n    left: 50px;\n    top: 50px;\n    width: 500px;\n    height: 400px;\n    background-color: #464646cc;\n    border: 1px solid #dadada;\n"]))),Uo=function(n){var e=Object(c.useState)(n.activeNo),t=Object(l.a)(e,2),i=t[0],o=t[1];return Object(c.useEffect)((function(){o(n.activeNo)}),[n.activeNo]),Object(No.jsxs)(No.Fragment,{children:[Object(No.jsx)(qo,{children:n.tabElements.map((function(e,t){return Object(No.jsx)(Ho,{name:e.name,icon:e.icon,isActive:t==i,isDisable:e.disable,selectTab:function(){return function(e){void 0!=n.selectTabIndex?n.selectTabIndex(e):o(e)}(t)}},t)}))}),Object(No.jsx)(Go,{children:n.tabElements.map((function(n,e){return Object(No.jsx)(Xo,{cont:n.cont,isActive:e===i},e)}))})]})},Ho=function(n){return Object(No.jsxs)(Yo,{isActive:n.isActive,onClick:function(){return n.selectTab()},children:[Object(No.jsx)(Wo,{children:n.icon}),Object(No.jsx)(Jo,{children:n.name})]})},Xo=function(n){return Object(No.jsx)(Vo,{isActive:n.isActive,children:n.cont})},qo=d.b.div(I||(I=Object(s.a)(["\n    display: inline-block;\n    width: 100px;\n    margin-right: 5px;\n    height: 100%;\n    background-color: #b9b9b9;\n    border: 1px solid #707070;\n    box-sizing: border-box;\n    border-radius: 10px 0 0 10px;\n    vertical-align: top;\n    box-shadow: 1px 2px 12px #aaaaaa;\n"]))),Go=d.b.div(T||(T=Object(s.a)(["\n    display: inline-block;\n    background-color: #b9b9b9;\n    border: 1px solid #707070;\n    box-sizing: border-box;\n    width: calc(100% - 105px);\n    height: 100%;\n    border-radius: 0 6px 6px 0;\n    box-shadow: 1px 2px 12px #aaaaaa;\n"]))),Vo=d.b.div(A||(A=Object(s.a)(["\n    /* margin: 3px 0 0 3px;\n    width: calc(100% - 6px);\n    height: calc(100% - 6px); */\n    width: 100%;\n    height: 100%;\n    /* background-color: #ece6e6; */\n    ","\n"])),(function(n){return n.isActive?Object(d.a)(F||(F=Object(s.a)(["display: inline-block;"]))):Object(d.a)(D||(D=Object(s.a)(["display: none;"])))})),Yo=d.b.div(M||(M=Object(s.a)(["\n    display: inline-block;\n    width: 90px;\n    height: 90px;\n    margin: 5px 0 0 5px;\n    border-radius: 10px;\n    ","\n    transition: background-color 500ms;\n    & *{\n        transition: color 150ms;\n    }\n    // \u30a2\u30af\u30c6\u30a3\u30d6\u3058\u3083\u306a\u3044\u6642\u3060\u3051hover\u8981\u7d20\u3092\u4ed8\u52a0\n    ","\n"])),(function(n){return n.isActive?Object(d.a)(R||(R=Object(s.a)(["\n                background-color: #e4e3e1;\n                border: 1px solid #949494\n            "]))):Object(d.a)(K||(K=Object(s.a)(["\n                background-color: #d1d1d1;\n                opacity: 0.8;\n            "])))}),(function(n){return n.isActive?"":Object(d.a)(N||(N=Object(s.a)(["\n        &:hover {\n            & *{\n                transition: color 150ms;\n                /* background-color: #e2d6d6; */\n                text-shadow: 1px 2px 22px #f7f7f7ea;\n                color: #a7a7a7;\n            }\n        }\n    "])))})),Wo=(Object(d.a)(_||(_=Object(s.a)(["\n    text-shadow: 1px 2px 22px #f7f7f7cf;\n    color: #a3a3a3;\n"]))),d.b.div(B||(B=Object(s.a)(["\n    display: inline-block;\n    width: 100%;\n    height: 60px;\n    /* background-color: #df828221; */\n    font-size: 50px;\n    color: #757575;\n    text-align: center;\n    padding-top: 5px;\n    box-sizing: border-box;\n"])))),Jo=d.b.div(P||(P=Object(s.a)(["\n    display: inline-block;\n    width: 100%;\n    height: 30px;\n    /* background-color: #8482df20; */\n    font-size: 20px;\n    font-weight: 600;\n    color: #757575;\n    text-align: center;\n"]))),Qo=t(13),Zo=t(18),$o=t(11),nr=function(n){var e=Object(c.useState)(n.activeNo),t=Object(l.a)(e,2),i=t[0],o=t[1];return Object(c.useEffect)((function(){o(n.activeNo)}),[n.activeNo]),Object(No.jsxs)(No.Fragment,{children:[Object(No.jsx)(ir,{children:n.tabElements.map((function(e,t){return Object(No.jsx)(er,{name:e.name,isActive:t==i,isDisable:e.disable,selectTab:function(){return function(e){void 0!=n.selectTabIndex?n.selectTabIndex(e):o(e)}(t)}},t)}))}),Object(No.jsx)(cr,{children:n.tabElements.map((function(n,e){return Object(No.jsx)(tr,{cont:n.cont,isActive:e===i},e)}))})]})},er=function(n){return Object(No.jsx)(rr,{isDisable:n.isDisable,isActive:n.isActive,onClick:function(){return n.selectTab()},children:n.name})},tr=function(n){return Object(No.jsx)(or,{isActive:n.isActive,children:n.cont})},ir=d.b.div(U||(U=Object(s.a)(["\n    display: inline-block;\n    height: 35px;\n"]))),cr=d.b.div(H||(H=Object(s.a)(["\n    display: block;\n    background-color: #999999;\n    height: calc(100% - 35px);\n    border-radius: 0 6px 6px 6px;\n    box-shadow: 0 2px 0 0 #000b3a48;\n"]))),or=d.b.div(X||(X=Object(s.a)(["\n    margin: 3px 0 0 3px;\n    width: calc(100% - 6px);\n    height: calc(100% - 6px);\n    ","\n"])),(function(n){return n.isActive?Object(d.a)(G||(G=Object(s.a)(["display: inline-block;"]))):Object(d.a)(q||(q=Object(s.a)(["display: none;"])))})),rr=d.b.div(V||(V=Object(s.a)(["\n    display: inline-block;\n    /* width: 100px; */\n    padding: 0 10px;\n    ","\n    /* opacity: 0.7; */\n    user-select: none;\n    margin-right: 6px;\n    font-weight: 600;\n    box-sizing: border-box;\n    line-height: 30px;\n    vertical-align: bottom;\n    transition: padding 100ms;\n"])),(function(n){return n.isActive?Object(d.a)(Y||(Y=Object(s.a)(["\n                color: #ebebeb;\n                padding: 0 35px;\n                background-color: #999999;\n                height: 35px;\n                font-size: 24px;\n                border-radius: 3px 15px 0 0;\n                text-shadow: 1px 2px 3px #00000065;\n            "]))):Object(d.a)(W||(W=Object(s.a)(["\n                height: 100%;\n                color: #555;\n                /* background-color: #90909b; */\n                background: linear-gradient(to bottom, #999999, #7a7a7a);\n                height: 30px;\n                font-size: 18px;\n                border-radius: 3px 10px 0 0;\n                ","\n            "])),n.isDisable?Object(d.a)(J||(J=Object(s.a)(["\n                    pointer-events: none;\n                    opacity: 0.7;\n                "]))):"")})),ar=function(){var n=Object(c.useContext)(rb),e=n.store,t=n.dispatcher;return Object(No.jsx)(sr,{children:Object(No.jsx)(lr,{onClick:function(){t.score.setScoreData({chordList:[{type:"init",detail:{keyIndex:0,bpm:100,scale:"major",timeSignature:"4/4"}},{type:"fixed",detail:{fixed:"Start"}},{type:"section",detail:{labelName:"Section"}},{type:"chord",detail:{beatLen:4,minute:{head:0,tail:0},root:null,on:null,symbolKey:"major",backing:{voicingList:[],pattern:null}}},{type:"fixed",detail:{fixed:"End"}}],notesList:[]}),e.scoreState.focusIndex=2,t.score.setScoreState(Object(b.a)({},e.scoreState)),t.score.setScoreTabIndex(1)},children:"Create blank score."})})},sr=d.b.div(Q||(Q=Object(s.a)(["\n    display: inline-block;\n    width: 100%;\n    height: 100%;\n    background-color: #7e7e7e;\n    text-align: left;\n"]))),lr=d.b.div(Z||(Z=Object(s.a)(["\n    \n    display: inline-block;\n    width: calc(100% - 50px);\n    height: 80px;\n    margin: 20px 25px;\n    border: 2px solid #a8a8a8;\n    /* background: linear-gradient(to bottom, #585858, #a7a7a7, #585858); */\n    background-color: #000;\n    color: #ccc;\n    font-size: 50px;\n    font-weight: 600;\n    text-align: left;\n    box-sizing: border-box;\n    padding-left: 20px;\n    border-radius: 10px;\n\n    &:hover {\n        background-color: #5b5e33;\n    }\n"]))),dr=(d.b.div($||($=Object(s.a)(["\n    display: inline-block;\n    width: 100%;\n    height: 100%;\n"]))),d.b.div(nn||(nn=Object(s.a)(["\n    display: inline-block;\n"])))),br=(d.b.div(en||(en=Object(s.a)(["\n    display: inline-block;\n    width: 100%;\n"]))),d.b.div(tn||(tn=Object(s.a)(["\n    display: inline-block;\n    height: 30px;\n    font-size: 18px;\n    font-weight: 600;\n    color: black;\n    line-height: 18px;\n"]))),d.b.div(cn||(cn=Object(s.a)(["\n    display: inline-block;\n    height: 30px;\n    font-size: 18px;\n    font-weight: 600;\n    color: black;\n    line-height: 18px;\n"]))),function(n){var e=Object(c.useContext)(rb),t=e.store,i=(e.dispatcher,function(){switch(n.size){case"small":return[18,18];case"midium":return[28,18];case"large":return[34,18]}}()),o=Object(l.a)(i,2),r=o[0],a=o[1];return Object(No.jsx)(hr,{width:n.width,height:r,fontSize:a,backgroundColor:t.userEnv.colorProps.entryBackground,onClick:n.callback,children:n.labelText})}),hr=Object(d.b)(dr)(on||(on=Object(s.a)(["\n    box-sizing: border-box;\n    text-align: center;\n    ",";\n    height: ","px;\n    /* background-color: ","; */\n    background: linear-gradient(to bottom, #e0e0e0, #aaaaaa, #e0e0e0);\n    color: #5d6e63;\n    border-radius: 2px;\n    border: solid 1px #747373;\n    font-size: 18px;\n    font-weight: 600;\n    /* box-shadow: 2px 2px 2px 2px #000b3a1a; */\n    & * {\n        vertical-align: top;\n    }\n    &:hover {\n        background: linear-gradient(to bottom, #f5efef, #c7afaf, #f5efef);\n    }\n"])),(function(n){return 0===n.width?Object(d.a)(rn||(rn=Object(s.a)(["\n                padding-left: 10px;\n                padding-right: 10px;\n            "]))):Object(d.a)(an||(an=Object(s.a)(["width: ","px"])),n.width)}),(function(n){return n.height}),(function(n){return n.backgroundColor})),xr=function(n){var e=Object(c.useContext)(rb),t=e.store,i=e.dispatcher,o=t.scoreState,r=t.scoreData.chordList[o.focusIndex].detail;Object(c.useEffect)((function(){var n=C(r.symbolKey),e=null==n.base?null:C(n.base),t=[],c=[],a=[],s=0;if(null==e)t.push("major"),t.push("minor"),t.push("suspend4th"),t.push("diminish"),t.push("augument"),t.push("minor-minus5");else{m.forEach((function(n){n.key===e.key&&c.push(n.key)}));var l=E(e.key);m.forEach((function(n){l.includes(n.key)&&t.push(n.key)}))}t.forEach((function(n,e){n===r.symbolKey&&(s=e)}));var d=E(n.key);m.forEach((function(n){d.includes(n.key)&&a.push(n.key)})),o.symbolMng={index:s,curLine:t,parentLine:c,childrenLine:a},i.score.setScoreState(o)}),[r.symbolKey]);var a=o.symbolMng,s=[],l=[],d=[];return null!=a&&(s.push(Object(No.jsx)(jr,{children:"Base"},s.length)),a.parentLine.forEach((function(n,e){var t=C(n);s.push(Object(No.jsxs)(fr,{isActive:!1,children:["[",null===t||void 0===t?void 0:t.name,"]"]},s.length))})),l.push(Object(No.jsx)(jr,{children:"Current"},l.length)),a.curLine.forEach((function(n,e){var t=C(n);l.push(Object(No.jsxs)(fr,{isActive:a.index===e,children:["[",null===t||void 0===t?void 0:t.name,"]"]},l.length))})),d.push(Object(No.jsx)(jr,{children:"Derives"},d.length)),a.childrenLine.forEach((function(n,e){var t=C(n);d.push(Object(No.jsxs)(fr,{isActive:!1,children:["[",null===t||void 0===t?void 0:t.name,"]"]},d.length))}))),Object(No.jsxs)(ur,{children:[Object(No.jsx)(pr,{children:s}),Object(No.jsx)(pr,{children:l}),Object(No.jsx)(pr,{children:d})]})},ur=d.b.div(sn||(sn=Object(s.a)(["\n    display: inline-block;\n    position: absolute;\n    z-index: 30;\n    top: 100px;\n    left: 0;\n    width: 250px;\n    height: 160px;\n    background-color: #a9cfd422;\n    border: 2px solid #000000ec;\n    box-sizing: border-box;\n    text-align: center;\n    opacity: 0.9;\n    box-shadow: 0 4px 16px 4px #000b3a48;\n    backdrop-filter: blur(6px);\n"]))),pr=d.b.div(ln||(ln=Object(s.a)(["\n    display: inline-block;\n    width: 80px;\n    height: 100%;\n    /* background-color: #e6e6e6; */\n    margin: 1px;\n    vertical-align: top;\n"]))),jr=d.b.div(dn||(dn=Object(s.a)(["\n    display: inline-block;\n    width: 100%;\n    height: 20px;\n    box-sizing: border-box;\n    /* background-color: #78dab4;\n    border: 1px solid #000000; */\n    background: linear-gradient(to bottom, #7a9ea3, #78cfda, #7a9ea3);\n    /* background: linear-gradient(to bottom, #a37a7a, #da7878, #a37a7a); */\n    margin: 1px;\n\n    font-size: 16px;\n    font-weight: 600;\n    color: #f3f3f3;\n    line-height: 17px;\n"]))),fr=d.b.div(bn||(bn=Object(s.a)(["\n    display: inline-block;\n    width: calc(100% - 2px);\n    height: 20px;\n    box-sizing: border-box;\n    background-color: #dbdbdb;\n    ","\n    border: 1px solid #000000;\n    margin: 1px;\n\n    font-size: 16px;\n    font-weight: 600;\n    color: #000000;\n    line-height: 16px;\n"])),(function(n){return n.isActive?Object(d.a)(hn||(hn=Object(s.a)(["background-color: #ffef64;"]))):""})),gr=function(n){var e,t=Object(c.useContext)(rb),i=t.store,o=(t.dispatcher,i.scoreState),r=(i.scoreData.chordList[n.index],o.elementCacheList[n.index]),a=null===(e=C(n.detail.symbolKey))||void 0===e?void 0:e.name,s=null;null!=n.detail.root&&(j({index:n.detail.root.index,isFlat:n.detail.root.isFlat}),s=O({index:n.detail.root.index,isFlat:n.detail.root.isFlat},r.keyIndex),null!=n.detail.on&&(j({index:n.detail.on.index,isFlat:n.detail.on.isFlat}),O({index:n.detail.on.index,isFlat:n.detail.root.isFlat},r.keyIndex)));var l=-1,d=o.elementCacheList[n.index-1];3!==n.index&&d.bar===r.bar||(l=r.bar+1);var b=-1!==l&&0!==r.beat,h="-";return null!=s&&(h="".concat(s).concat(a)),Object(No.jsxs)(mr,{children:[Object(No.jsx)(yr,{children:h}),Object(No.jsxs)(wr,{children:[Object(No.jsx)(Or,{isError:b,children:-1===l?Object(No.jsx)(No.Fragment,{children:"\xa0"}):l}),Object(No.jsxs)(kr,{children:[Object(No.jsx)("span",{children:0===r.beat?Object(No.jsx)(No.Fragment,{children:"\xa0"}):r.beat}),0===r.minute?"":" (".concat(r.minute,")")]}),Object(No.jsxs)(vr,{children:[Math.round(r.pastSecond/100)/10,"s"]})]})]})},Or=d.b.div(xn||(xn=Object(s.a)(["\n    font-size: 12px;\n    font-weight: 600;\n    color: #c72929;\n    ","\n    box-sizing: border-box;\n"])),(function(n){return n.isError?Object(d.a)(un||(un=Object(s.a)(["\n        background-color: #ee5959;\n        color: #ffffff;\n        /* border: 2px solid #c72929; */\n        border-radius: 2px;\n    "]))):""})),vr=d.b.div(pn||(pn=Object(s.a)(["\n    font-size: 12px;\n    font-weight: 600;\n    color: #000000a0;\n    box-sizing: border-box;\n"]))),kr=d.b.div(jn||(jn=Object(s.a)([""]))),mr=d.b.div(fn||(fn=Object(s.a)(["\n    display: inline-block;\n    position: absolute;\n    z-index: 4;\n    width: 100%;\n    height: 50px;\n    // background-color: #00ff2a11;\n    bottom: 0;\n    left: 0;\n    box-sizing: border-box;\n    text-align: center;\n    box-sizing: border-box;\n"]))),yr=d.b.div(gn||(gn=Object(s.a)(["\n    display: inline-block;\n    // width: calc(100% - ","px);\n    width: 100%;\n    height: 18px;\n    // background-color: #ffc4001c;\n    font-size: 12px;\n    font-weight: 600;\n    color: #2b2b2b;\n"])),60),wr=(d.b.div(On||(On=Object(s.a)(["\n    display: inline-block;\n    width: 56px;\n    height: 30px;\n    background-color: #1100ff1c;\n"]))),d.b.div(vn||(vn=Object(s.a)(["\n    display: inline-block;\n    position: absolute;\n    z-index: 5;\n    width: ","px;\n    height: 100%;\n    // background-color: #0000ff11;\n    top: 0;\n    left: -","px;\n    box-sizing: border-box;\n    text-align: center;\n    \n    & "," {\n    }\n    & "," {\n        font-size: 12px;\n        color: #333;\n        & span {\n            color: #00a;\n            font-weight: 600;\n        }\n    }\n"])),50,25,Or,kr)),Sr=function(n){var e=Object(c.useContext)(rb),t=e.store,i=(e.dispatcher,t.scoreState),o=i.elementCacheList[n.index].sectionNo,r=i.sectionCacheList[o],a=Math.floor(r.beatSum/4),s=r.beatSum%4;return Object(No.jsxs)(Cr,{children:[Object(No.jsxs)(Er,{children:[a,0===s?"":" (".concat(s,")")]}),Object(No.jsx)(zr,{})]})},Cr=d.b.div(kn||(kn=Object(s.a)(["\n    display: inline-block;\n    position: absolute;\n    z-index: 4;\n    width: 100%;\n    height: 50px;\n    /* background-color: #ff000011; */\n    bottom: 0;\n    left: 0;\n    box-sizing: border-box;\n    text-align: center;\n    box-sizing: border-box;\n"]))),Er=d.b.div(mn||(mn=Object(s.a)(["\n    display: block;\n    position: relative;\n    /* min-width: 80px; */\n    height: 16px;\n    font-size: 14px;\n    font-weight: 600;\n    color: #474386cf;\n    text-align: center;\n    line-height: 16px;\n    /* background-color: #00000042; */\n"]))),zr=d.b.div(yn||(yn=Object(s.a)(["\n    display: inline-block;\n    position: relative;\n    width: 8px;\n    height: calc(100% - 16px);\n    background-color: #db0000cf;\n    border-radius: 4px 4px 0 0;\n"]))),Lr=function(n){return Object(No.jsxs)(Ir,{children:[Object(No.jsx)(Ar,{children:"Modulation"}),Object(No.jsx)(Dr,{children:"Domm+1"})]})},Ir=d.b.div(wn||(wn=Object(s.a)(["\n    display: inline-block;\n    width: 100%;\n    height: 100%;\n    /* background-color: red; */\n"]))),Tr=d.b.div(Sn||(Sn=Object(s.a)(["\n    display: block;\n    position: relative;\n    min-width: 100px;\n    height: 20px;\n    font-size: 16px;\n    font-weight: 600;\n    text-align: center;\n    line-height: 20px;\n    /* background-color: #1000eb42; */\n    margin-top: 3px;\n"]))),Ar=Object(d.b)(Tr)(Cn||(Cn=Object(s.a)(["\n    color: #0014cc;\n"]))),Dr=Object(d.b)(Tr)(En||(En=Object(s.a)(["\n    color: #5e5e5e;\n"]))),Fr=function(n){var e,t,i,o=Object(c.useContext)(rb),r=o.store,a=(o.dispatcher,r.scoreState),s=a.elementCacheList[a.focusIndex],l=n.detail.minute,d=r.scoreState.keySwitch,b=null,h=null;null!=n.detail.root&&(b=j({index:n.detail.root.index,isFlat:n.detail.root.isFlat}),O({index:n.detail.root.index,isFlat:n.detail.root.isFlat},s.keyIndex),null!=n.detail.on&&(h=j({index:n.detail.on.index,isFlat:n.detail.on.isFlat}),O({index:n.detail.on.index,isFlat:n.detail.root.isFlat},s.keyIndex)));var x=null===(e=C(n.detail.symbolKey))||void 0===e?void 0:e.name;return Object(c.useMemo)((function(){return Object(No.jsxs)(Mr,{children:[Object(No.jsx)(_r,{isSwitch:d.editMode&&n.isCurrent,scaleRelation:null!=b&&S.includes(b+x)?"diatonic":"none",isOnChordScale:null!=n.detail.on&&[0,2,4,5,7,9,11].includes(n.detail.on.index),children:null==b?"none":Object(No.jsxs)(No.Fragment,{children:[Object(No.jsx)(Rr,{children:b}),Object(No.jsx)(Kr,{children:x}),Object(No.jsx)(Nr,{children:null==h?"":"/".concat(h)})]})}),Object(No.jsx)(Br,{isSwitch:d.editMode&&n.isCurrent,children:function(){for(var e=[],t=0;t<n.detail.beatLen;t++){var i="normal",c=0;if([0,n.detail.beatLen-1].includes(t)){var o=0===t?l.head:l.tail;0!==o&&(i=o>0?"long":"short",c=Math.abs(o))}e.push(Object(No.jsx)(Pr,{lenType:i,valueType:c},t))}return e}()})]})}),[n.isCurrent,n.detail.beatLen,null===(t=n.detail.root)||void 0===t?void 0:t.index,null===(i=n.detail.on)||void 0===i?void 0:i.index,n.detail.symbolKey,a.keySwitch.editMode,s.keyIndex,n.detail.minute.head,n.detail.minute.tail])},Mr=d.b.div(zn||(zn=Object(s.a)(["\n    display: inline-block;\n    position: relative;\n    width: 100%;\n    height: 100%;\n    /* border: 1px solid #c5c5cc; */\n    /* padding: 4px; */\n    box-sizing: border-box;\n    /* background-color: #00000013; */\n"]))),Rr=d.b.div(Ln||(Ln=Object(s.a)([""]))),Kr=d.b.div(In||(In=Object(s.a)([""]))),Nr=d.b.div(Tn||(Tn=Object(s.a)([""]))),_r=d.b.div(An||(An=Object(s.a)(["\n    display: block;\n    /* width: 100%; */\n    height: 28px;\n    /* background-color: #f700d616; */\n    ","\n    font-size: 20px;\n    /* color: #4e516394; */\n    text-align: center;\n\n    & * {\n        display: inline-block;\n    }\n\n    & "," {\n        color: #4e5163cc;\n        ","\n        font-weight: 600;\n    }\n    & "," {\n        color: #4e5163cc;\n        ","\n    }\n    & "," {\n        color: #422e3099;\n        ","\n        font-weight: 600;\n    }\n"])),(function(n){return n.isSwitch?Object(d.a)(Dn||(Dn=Object(s.a)(["background-color: #0004f729;"]))):""}),Rr,(function(n){return"diatonic"===n.scaleRelation?Object(d.a)(Fn||(Fn=Object(s.a)(["color: #4e516394;"]))):"secondaly"===n.scaleRelation?Object(d.a)(Mn||(Mn=Object(s.a)(["color: #00116e93;"]))):Object(d.a)(Rn||(Rn=Object(s.a)(["color: #70000093;"])))}),Kr,(function(n){return"diatonic"===n.scaleRelation?Object(d.a)(Kn||(Kn=Object(s.a)(["color: #4e516394;"]))):"secondaly"===n.scaleRelation?Object(d.a)(Nn||(Nn=Object(s.a)(["color: #00116e93;"]))):Object(d.a)(_n||(_n=Object(s.a)(["color: #70000093;"])))}),Nr,(function(n){return n.isOnChordScale?"":Object(d.a)(Bn||(Bn=Object(s.a)(["color: #70000093;"])))})),Br=(d.b.div(Pn||(Pn=Object(s.a)(["\n    display: inline-block;\n    width: 100%;\n    height: 22px;\n    /* background-color: #d37979b2; */\n    font-size: 14px;\n    /* font-weight: 600; */\n    color: #9c5f74;\n    text-align: center;\n"]))),d.b.div(Un||(Un=Object(s.a)(["\n    display: inline-block;\n    width: 100%;\n    height: 20px;\n    ","\n    /* background-color: #d8ccccb1; */\n    text-align: center;\n"])),(function(n){return n.isSwitch?Object(d.a)(Hn||(Hn=Object(s.a)(["background-color: #0004f729;"]))):""}))),Pr=d.b.div(Xn||(Xn=Object(s.a)(["\n    display: inline-block;\n    width: 8px;\n    ","\n    height: calc(100% - 4px);\n    margin: 2px 2px 0 2px;\n    background-color: #e0e0e088;\n    ","\n    /* background: linear-gradient(to bottom, #9b9b9bc3, #85858514); */\n    border: solid 1px #0000004e;\n    /* border-radius: 2px; */\n    box-sizing: border-box;\n"])),(function(n){return"short"===n.lenType?Object(d.a)(qn||(qn=Object(s.a)(["\n        width: 4px;\n    "]))):"long"===n.lenType?Object(d.a)(Gn||(Gn=Object(s.a)(["\n        width: 12px;\n    "]))):""}),(function(n){return.5===n.valueType?Object(d.a)(Vn||(Vn=Object(s.a)(["\n        background-color: #db828287;\n    "]))):.25===n.valueType?Object(d.a)(Yn||(Yn=Object(s.a)(["\n        background-color: #9394dd87;\n    "]))):""})),Ur=function(n){var e=[];return e.push(Object(No.jsx)(Xr,{},0)),e.push(Object(No.jsx)(qr,{children:n.detail.fixed},1)),Object(No.jsx)(Hr,{children:"Start"===n.detail.fixed?e:e.reverse()})},Hr=d.b.div(Wn||(Wn=Object(s.a)(["\n    display: inline-block;\n    position: relative;\n    width: 80px;\n    height: calc(100% - ","px);\n    /* border: 1px solid #00000083; */\n    background-color: #c2c2c237;\n"])),15),Xr=d.b.div(Jn||(Jn=Object(s.a)(["\n    display: inline-block;\n    width: 10px;\n    height: 100%;\n    background-color: #d1d1d1;\n    vertical-align: middle;\n"]))),qr=d.b.div(Qn||(Qn=Object(s.a)(["\n    display: inline-block;\n    width: calc(100% - 10px);\n    height: 48px;\n    /* background-color: #47438678; */\n    font-size: 26px;\n    font-weight: 600;\n    font-style: italic;\n    line-height: 46px;\n    color: #1b003d6f;\n    text-align: center;\n    vertical-align: middle;\n"]))),Gr=function(n){return Object(No.jsxs)(Vr,{children:[Object(No.jsxs)(Yr,{children:[Object(No.jsx)(Wr,{children:"Scale:"}),Object(No.jsx)(Jr,{children:n.detail.scale})]}),Object(No.jsxs)(Yr,{children:[Object(No.jsx)(Wr,{children:"Key:"}),Object(No.jsx)(Jr,{children:v[n.detail.keyIndex]})]}),Object(No.jsxs)(Yr,{children:[Object(No.jsx)(Wr,{children:"tempo:"}),Object(No.jsx)(Jr,{children:n.detail.bpm})]}),Object(No.jsxs)(Yr,{children:[Object(No.jsx)(Wr,{children:"Rate:"}),Object(No.jsx)(Jr,{children:n.detail.timeSignature})]})]})},Vr=d.b.div(Zn||(Zn=Object(s.a)(["\n    display: inline-block;\n    position: relative;\n    width: 100px;\n"]))),Yr=d.b.div($n||($n=Object(s.a)(["\n    display: inline-block;\n    position: relative;\n    width: 100px;\n    height: 16px;\n    margin: 1px 0;\n    /* background-color: #0066ff16; */\n    /* border-bottom: 1px solid #000; */\n    font-size: 12px;\n    font-weight: 600;\n    color: #2a2a2c;\n    line-height: 16px;\n"]))),Wr=d.b.div(ne||(ne=Object(s.a)(["\n    display: inline-block;\n    margin: 0 2px;\n    width: 50px;\n    height: 100%;\n    color: #14a800;\n    /* background-color: #ff00b329; */\n"]))),Jr=d.b.div(ee||(ee=Object(s.a)(["\n    display: inline-block;\n    margin: 0 2px;\n    width: 40px;\n    height: 100%;\n    color: #000000;\n    /* background-color: #ff00b329; */\n"]))),Qr=function(n){var e=Object(c.useContext)(rb),t=e.store,i=(e.dispatcher,t.scoreState),o=i.elementCacheList[n.index].sectionNo,r=i.sectionCacheList[o];return Object(No.jsx)(Zr,{children:Object(No.jsx)($r,{children:r.labelName})})},Zr=d.b.div(te||(te=Object(s.a)(["\n    display: inline-block;\n    height: 100%;\n    position: relative;\n    /* width: 100px; */\n    text-align: center;\n    border: 1px;\n    /* border: 1px solid #c5c5cc; */\n"]))),$r=d.b.div(ie||(ie=Object(s.a)(["\n    display: block;\n    position: relative;\n    min-width: 80px;\n    height: 20px;\n    font-size: 18px;\n    font-weight: 600;\n    color: #c00;\n    text-align: center;\n    line-height: 20px;\n    /* background-color: #1000eb42; */\n    margin-top: 13px;\n"]))),na=function(n){var e=Object(c.useContext)(rb),t=e.store;e.dispatcher,t.scoreState;return Object(No.jsxs)(ea,{children:[Object(No.jsx)(ia,{children:"Key"}),Object(No.jsx)(ca,{children:"C\u2192Am"})]})},ea=d.b.div(ce||(ce=Object(s.a)(["\n    display: inline-block;\n    position: absolute;\n    z-index: 4;\n    width: 100%;\n    height: 50px;\n    /* background-color: #ff000011; */\n    bottom: 0;\n    left: 0;\n    box-sizing: border-box;\n    text-align: center;\n    box-sizing: border-box;\n"]))),ta=d.b.div(oe||(oe=Object(s.a)(["\n    display: block;\n    position: relative;\n    /* min-width: 80px; */\n    height: 16px;\n    font-size: 14px;\n    font-weight: 600;\n    text-align: center;\n    line-height: 16px;\n    /* background-color: #00000042; */\n"]))),ia=Object(d.b)(ta)(re||(re=Object(s.a)(["\n    color: #0b00a8cf;\n"]))),ca=Object(d.b)(ta)(ae||(ae=Object(s.a)(["\n    color: #050505cf;\n"]))),oa=function(n){var e=Object(c.useContext)(rb),t=e.store,i=e.dispatcher,o=Object(c.useRef)({}),r=Object(c.useRef)({}),a=t.scoreState,s=a.focusIndex==n.index,l=t.scoreData.chordList[n.index],d=a.elementCacheList[n.index];Object(c.useEffect)((function(){d.reffers.wrap=o.current,d.reffers.body=r.current,i.score.setScoreState(a)}),[a.elementCacheList.length]);var b=a.focusIndex===n.index,h=a.elementCacheList[a.focusIndex].sectionNo===d.sectionNo,x="chord"!==l.type?null:l.detail;return Object(No.jsxs)(la,{ref:o,isSelectable:"fixed"!==l.type,isActive:b,isInactive:!h,isChord:"chord"===l.type,children:[Object(No.jsx)(ba,{children:"chord"!==l.type?Object(No.jsx)(No.Fragment,{}):Object(No.jsx)(da,{children:g[d.keyIndex]})}),["init","chord","section","change"].includes(l.type)?Object(No.jsx)(ra,{ref:r,isActive:b,isInactive:!h,type:l.type,isAnytime:["fixed","init"].includes(l.type)||0===a.focusIndex,onClick:function(){"fixed"!==l.type&&(a.focusIndex=n.index,i.score.setScoreState(a))},children:function(){switch(l.type){case"init":var e=l.detail;return Object(No.jsx)(Gr,{detail:e});case"section":l.detail;return Object(No.jsx)(Qr,{index:n.index});case"chord":var t=l.detail;return Object(No.jsx)(Fr,{detail:t,isCurrent:b});case"change":var i=l.detail;return Object(No.jsx)(Lr,{detail:i})}}()}):Object(No.jsx)(Ur,{detail:l.detail}),"chord"===l.type?Object(No.jsx)(gr,{index:n.index,detail:x}):"section"===l.type?Object(No.jsx)(Sr,{index:n.index}):"change"===l.type?Object(No.jsx)(na,{index:n.index}):Object(No.jsx)(No.Fragment,{}),Object(No.jsx)(No.Fragment,{children:s&&null!=x&&null!=x.root&&t.scoreState.keySwitch.symbolMode?Object(No.jsx)(xr,{}):""}),["fixed","init"].includes(l.type)?Object(No.jsx)(No.Fragment,{}):Object(No.jsxs)(aa,{children:[Object(No.jsx)(sa,{children:"-"}),Object(No.jsx)(sa,{onClick:function(){return i.score.addChordElement()},children:"+"})]})]})},ra=(d.b.div(se||(se=Object(s.a)(["\n    display: block;\n    width: 1px;\n    height: 10px;\n    background-color: #ad0c0c;\n"]))),d.b.div(le||(le=Object(s.a)(["\n    display: inline-block;\n    /* position: relative; */\n    min-width: 80px;\n    height: calc(100% - ","px);\n    border: solid 1px #00000049;\n    ","\n    ","\n    ","\n\n    opacity: 0.4;\n    border-radius: 6px;\n    ","\n    ","\n    box-sizing: border-box;\n    padding: 4px;\n    transition: background-color 100ms;\n    ","\n"])),75,(function(n){return"section"!==n.type?"":Object(d.a)(de||(de=Object(s.a)(["\n        border: solid 1px #ff000084;\n    "])))}),(function(n){return"init"!==n.type?"":Object(d.a)(be||(be=Object(s.a)(["\n        border: solid 1px #006823a7;\n        height: 85px;\n    "])))}),(function(n){return"change"!==n.type?"":Object(d.a)(he||(he=Object(s.a)(["\n        border: solid 1px #1800a1a7;\n    "])))}),(function(n){return n.isInactive?"":Object(d.a)(xe||(xe=Object(s.a)(["\n        background-color: #ebebeb84;\n        opacity: 1;\n    "])))}),(function(n){return n.isAnytime?Object(d.a)(ue||(ue=Object(s.a)(["\n        opacity: 1;\n    "]))):""}),(function(n){return n.isActive?Object(d.a)(pe||(pe=Object(s.a)(["\n        background-color: #d85cce5a;\n        box-shadow: 0 0 8px 0 #000b3a48;\n    "]))):""}))),aa=d.b.div(je||(je=Object(s.a)([""]))),sa=d.b.div(fe||(fe=Object(s.a)([""]))),la=d.b.div(ge||(ge=Object(s.a)(["\n    display: inline-block;\n    position: relative;\n    height: ","px;\n    padding: 0 ","px;\n    box-sizing: border-box;\n    /* margin: 10px 5px 5px 5px; */\n    border-bottom: 1px solid #47438678;\n    margin-bottom: 4px;\n    vertical-align: top;\n    /* width: 1px; */\n    transition: width 500ms, opacity 300ms;\n    /* border: 1px solid #00000015; */\n    ","\n\n    & "," {\n        display: none;\n        position: absolute;\n        z-index: 5;\n        width: ","px;\n        height: 44px;\n        /* background-color: #0000ff11; */\n        top: ","px;\n        right: -","px;\n\n        /* background-color: #0400d84e; */\n        & "," {\n            display: inline-block;\n            width: ","px;\n            height: ","px;\n            background-color: #ebebeb6e;\n            border: 1px solid #818181;\n            margin: 1px 0;\n            font-size: 15px;\n            font-weight: 600;\n            text-align: center;\n            color: #818181;\n            box-sizing: border-box;\n            line-height: 15px;\n\n            &:hover {\n                background-color: #fffb0b9d\n            }\n        }\n    }\n\n    &:hover {\n        ","\n    }\n"])),134,8,(function(n){return n.isInactive||!n.isChord?"":Object(d.a)(Oe||(Oe=Object(s.a)(["\n        background-color: #e4ecd039;\n    "])))}),aa,20,35,10,sa,20,20,(function(n){return n.isSelectable?Object(d.a)(ve||(ve=Object(s.a)(["\n            & "," {\n                ","\n                opacity: 1;\n            }\n            & "," {\n                display: inline-block;\n            }\n        "])),ra,(function(n){return n.isActive?"":Object(d.a)(ke||(ke=Object(s.a)(["background-color: #fffb0018;"])))}),aa):""})),da=d.b.div(me||(me=Object(s.a)([""]))),ba=d.b.div(ye||(ye=Object(s.a)(["\n    display: inline-block;\n    /* position: relative; */\n    width: 100%;\n    height: ","px;\n    /* background-color: #eca8813b; */\n\n    & "," {\n        display: inline-block;\n        position: absolute;\n        top: -2px;\n        left: 10px;\n        width: 50px;\n        font-size: 12px;\n        color: #ca0000;\n        /* background-color: #fff; */\n    }\n"])),15,da),ha=function(){var n=Object(c.useContext)(rb),e=n.store,t=(n.dispatcher,e.scoreData.chordList.length),i=[];if(e.scoreState.elementCacheList.length===t)for(var o=0;o<t;o++)i.push(Object(No.jsx)(oa,{index:o},o));return Object(No.jsxs)(xa,{children:[Object(No.jsx)(ua,{children:i}),Object(No.jsx)(ua,{})]})},xa=d.b.div(we||(we=Object(s.a)(["\n    display: inline-block;\n    position: relative;\n    margin: 4px 0 0 4px;\n    width: calc(100% - 8px);\n    height: calc(100% - 8px);\n    /* background-color: #e7dddd; */\n    background-color: #e9e9e9;\n    border: 1px solid #b3b3b3;\n    border-radius: 2px;\n    box-sizing: border-box;\n    text-align: left;\n    overflow: auto;\n    \n    &::-webkit-scrollbar {\n        width: 10px;\n        height: 10px;\n    }\n    &::-webkit-scrollbar-thumb {\n        border-radius: 5px;\n        background: #1959A8;\n    }\n    &::-webkit-scrollbar-track {\n        border-radius: 5px;\n        box-shadow: 0 0 4px #aaa inset;\n    }\n"]))),ua=(d.b.div(Se||(Se=Object(s.a)(["\n    transform-origin: top left;\n    /* width: 100%;\n    height: 100%; */\n    transform: scale(1);\n"]))),d.b.div(Ce||(Ce=Object(s.a)(["\n    display: inline-block;\n    /* position: relative; */\n    padding: ","px ","px;\n    width: ","px;\n    height: ","px;\n    background-color: #f1f1f1;\n    /* overflow: hidden; */\n    margin: 10px 0 0 10px;\n    box-shadow: 0 0 18px 0 #000b3a48;\n"])),10,30,891,1260)),pa=function(n,e,t){var i=e.userEnv.keyConfig.note,c=(e.scoreState.keySwitch,e.scoreData),o=e.scoreState,r=c.chordList[o.focusIndex].type;switch(r){case"chord":e.scoreState.hideMenu;switch(n.key){case"z":var a=c.chordList[o.focusIndex].detail;!function(n,e,t){if(n.releaseAll(),null!=e.root){var i=e.root.index,c=C(e.symbolKey);e.backing.voicingList.map((function(n){var e=y[c.structs[n.struct]];return 12*n.octave+i+e})).forEach((function(e,t){var i=g[e%12]+Math.floor(e/12);n.triggerAttack(i,"+0",.5)})),setTimeout((function(){n.releaseAll()}),2e3)}}(e.instruments.sampler,a);break;case"e":t.score.setDefaultBacking();break;case"b":t.backing.openBackingEditor()}}switch(n.key){case i.prevElement:t.score.moveElement(!1);break;case i.nextElement:t.score.moveElement(!0);break;case i.prevSection:t.score.moveSection(!1);break;case i.nextSection:t.score.moveSection(!0);break;case i.addChord:t.score.addChordElement();break;case i.addSection:t.score.addSectionElement();break;case"f":case"f":t.score.addChangeElement();break;case i.deleteCur:t.score.removeCurElement();break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":t.score.setDiatonicChord(Number(n.key)-1)}},ja=function(n,e,t,i){if("none"===e.scoreState.hideMenu){var c=e.userEnv.keyConfig.note,o=e.scoreState.keySwitch;switch(n.key){case c.editMode:o.editMode=i,t.score.setKeySwitch(o);break;case c.symbolMode:o.symbolMode=i,t.score.setKeySwitch(o)}}i&&function(n,e,t){var i=e.userEnv.keyConfig.note,c=e.scoreState.keySwitch,o=e.scoreData,r=e.scoreState,a="init"!==o.chordList[r.focusIndex].type;if("none"===e.scoreState.hideMenu){if(a)if(c.editMode)switch(n.key){case i.decRoot:t.score.incrementDegreeRoot(!1);break;case i.incRoot:t.score.incrementDegreeRoot(!0);break;case i.decBeat:t.score.incrementBeatLen(!1);break;case i.incBeat:t.score.incrementBeatLen(!0);break;case"A":t.score.incrementMinuteValRelation(!1,-.25);break;case"S":t.score.incrementMinuteValRelation(!1,.25);break;case"D":t.score.incrementMinuteValRelation(!0,-.25);break;case"F":t.score.incrementMinuteValRelation(!0,.25)}else if(c.symbolMode)switch(n.key){case"ArrowUp":t.symbol.toNext(!1);break;case"ArrowDown":t.symbol.toNext(!0);break;case"ArrowLeft":t.symbol.toBase();break;case"ArrowRight":t.symbol.toDerive()}else pa(n,e,t)}else"backing"===e.scoreState.hideMenu&&function(n,e,t){e.userEnv.keyConfig.note,e.scoreState.keySwitch,e.scoreData;var i=e.backingState;if(null!=i){var c=i.pattern;switch(n.key){case"b":t.backing.closeBackingEditor()}if(null!=c)switch(n.key){case"ArrowLeft":t.backing.movePatternColumn(!1);break;case"ArrowRight":t.backing.movePatternColumn(!0);break;case"a":t.backing.addPatternColumn();break;case"w":t.backing.changeLayer();break;case"1":t.backing.setCurrentDivRate(16);break;case"2":t.backing.setCurrentDivRate(8);break;case"3":t.backing.setCurrentDivRate(4);break;case"4":t.backing.setCurrentDivRate(2);break;case"5":t.backing.setCurrentDivRate(1);break;case".":t.backing.toggleCurrentDivHalf()}}}(n,e,t)}(n,e,t)},fa=function(n){for(var e=Object(c.useContext)(rb),t=e.store,i=e.dispatcher,o=t.scoreState,r=t.scoreData.chordList[o.focusIndex].detail,a=o.elementCacheList[o.focusIndex],s=[],l=function(n){var e=r.beatLen>=n+1;s.push(Object(No.jsx)(ma,{isExist:e,onClick:function(){var e=t.scoreData;e.chordList=e.chordList.slice(),r.beatLen=n+1,e.chordList[t.scoreState.focusIndex].detail=r,i.score.setScoreData(e)},children:Object(No.jsx)("span",{})},n))},d=0;d<4;d++)l(d);var h=[];x.forEach((function(n,e){var c=JSON.stringify(r.root)===JSON.stringify(n),o=null!=r.on&&JSON.stringify(r.on)===JSON.stringify(n);h.push(Object(No.jsx)(za,{isRootActive:c,isOnActive:o,isDiatonic:null!=n&&[0,2,4,5,7,9,11].includes(n.index),onClick:function(){var e=t.scoreData;(o||null==n)&&(r.on=null),r.root=null==n?null:Object(b.a)({},n),e.chordList[t.scoreState.focusIndex].detail=r,i.score.setScoreData(e)},onContextMenu:function(){var e=t.scoreData;null==r.root||c||(r.on=o||null==n?null:Object(b.a)({},n),e.chordList[t.scoreState.focusIndex].detail=r,i.score.setScoreData(e))},children:null==n?"-":Object(No.jsxs)(No.Fragment,{children:[j(n)," (",O(n,a.keyIndex),")"]})},e))}));var u=[];return m.forEach((function(n,e){var c=null!=r.root&&n.key===r.symbolKey;u.push(Object(No.jsxs)(Ia,{isActive:c,isDiatonic:!0,onClick:function(){var e=t.scoreData;r.symbolKey=n.key,e.chordList[t.scoreState.focusIndex].detail=r,i.score.setScoreData(e)},children:["[",n.name,"]"]},e))})),Object(No.jsxs)(Oa,{children:[Object(No.jsxs)(va,{children:[Object(No.jsx)(ga,{children:"Beat Length"}),Object(No.jsx)(ka,{children:s}),Object(No.jsxs)(ya,{children:[Object(No.jsx)(wa,{children:"Minute Head"}),Object(No.jsx)(Sa,{isReverse:!0,type:"range",step:.25,min:-.5,max:.5,value:r.minute.head,onChange:function(n){var e=t.scoreData;e.chordList=e.chordList.slice(),r.minute.head=Number(n.target.value),e.chordList[t.scoreState.focusIndex].detail=r,i.score.setScoreData(e)}}),Object(No.jsx)(wa,{children:"Minute Tail"}),Object(No.jsx)(Sa,{isReverse:!1,type:"range",step:.25,min:-.5,max:.5,value:r.minute.tail,onChange:function(n){var e=t.scoreData;e.chordList=e.chordList.slice(),r.minute.tail=Number(n.target.value),e.chordList[t.scoreState.focusIndex].detail=r,i.score.setScoreData(e)}})]})]}),Object(No.jsxs)(Ca,{children:[Object(No.jsx)(Ea,{children:h}),Object(No.jsx)(La,{isDisable:null==r.root,children:u})]})]})},ga=d.b.div(Ee||(Ee=Object(s.a)(["\n    display: inline-block;\n    width: 100%;\n    height: 18px;\n    text-align: left;\n    /* background-color: #f0f0f0; */\n    background: linear-gradient(to bottom, #707070, #b3b3b3, #707070);\n    font-size: 14px;\n    color: #ffffff;\n    font-weight: 600;\n    line-height: 14px;\n    box-sizing: border-box;\n    /* border: 1px solid #c50000; */\n    text-align: center;\n"]))),Oa=d.b.div(ze||(ze=Object(s.a)(["\n    display: inline-block;\n    width: 100%;\n    height: 100%;\n    text-align: left;\n    background-color: #8a8a8a;\n"]))),va=d.b.div(Le||(Le=Object(s.a)(["\n    display: inline-block;\n    width: 100%;\n    height: 100px;\n    text-align: left;\n    background-color: #9c93b9;\n"]))),ka=d.b.div(Ie||(Ie=Object(s.a)(["\n    display: inline-block;\n    width: 100%;\n    height: 25px;\n    text-align: left;\n    background-color: #afafaf;\n"]))),ma=d.b.div(Te||(Te=Object(s.a)(["\n    display: inline-block;\n    width: 25%;\n    height: 20px;\n    text-align: left;\n    background-color: #696969;\n\n    & span{\n        display: inline-block;\n        margin: 2px 0 0 2px;\n        width: calc(100% - 4px);\n        height: calc(100% - 4px);\n        background-color: #9b8585;\n        ","\n    }\n"])),(function(n){return n.isExist?Object(d.a)(Ae||(Ae=Object(s.a)(["\n            /* background-color: #ebf37eb7; */\n            background: linear-gradient(to bottom, #c5c5c5d2, #f3f3f3d2, #c5c5c5d2);\n        "]))):""})),ya=d.b.div(De||(De=Object(s.a)(["\n    display: inline-block;\n    width: 100%;\n    height: 75px;\n    text-align: left;\n    background-color: #cecece;\n"]))),wa=d.b.div(Fe||(Fe=Object(s.a)(["\n    display: inline-block;\n    width: 100%;\n    height: 18px;\n    text-align: left;\n    /* background-color: #f0f0f0; */\n    background: linear-gradient(to bottom, #707070, #b3b3b3, #707070);\n    font-size: 14px;\n    color: #ffffff;\n    font-weight: 600;\n    line-height: 14px;\n    box-sizing: border-box;\n    border: 1px solid #222222;\n    text-align: center;\n"]))),Sa=d.b.input(Me||(Me=Object(s.a)(["\n    display: inline-block;\n    margin: 0 0 0 5px;\n    width: calc(100% - 10px);\n    height: 20px;\n    color: #3b51d1;\n    ","\n"])),(function(n){return n.isReverse?Object(d.a)(Re||(Re=Object(s.a)(["\n        transform: rotateY(180deg);\n    "]))):""})),Ca=d.b.div(Ke||(Ke=Object(s.a)(["\n    display: inline-block;\n    width: 100%;\n    height: 360px;\n    text-align: left;\n    background-color: #78b48c;\n    & * {\n        vertical-align: top;\n    }\n"]))),Ea=d.b.div(Ne||(Ne=Object(s.a)(["\n    display: inline-block;\n    width: 90px;\n    height: 100%;\n    text-align: left;\n    background-color: #e6e6e6;\n"]))),za=d.b.div(_e||(_e=Object(s.a)(["\n    display: inline-block;\n    width: 100%;\n    height: 20px;\n    text-align: left;\n    background-color: #75757575;\n    ","\n    ","\n    border: 1px solid #000;\n    box-sizing: border-box;\n    color: #3030308d;\n    ","\n    font-size: 16px;\n    font-weight: 600;\n    line-height: 16px;\n    text-align: center;\n    & span {\n        color: #9e9e9e;\n    }\n    &:hover {\n        background-color: #fffdfd40;\n        ","\n        ","\n    }\n"])),(function(n){return n.isRootActive?Object(d.a)(Be||(Be=Object(s.a)(["background-color: #ff6060bd;"]))):""}),(function(n){return n.isOnActive?Object(d.a)(Pe||(Pe=Object(s.a)(["background-color: #6070ffbc;"]))):""}),(function(n){return n.isDiatonic?Object(d.a)(Ue||(Ue=Object(s.a)(["color: #17007e;"]))):""}),(function(n){return n.isRootActive?Object(d.a)(He||(He=Object(s.a)(["background-color: #ff9090bc;"]))):""}),(function(n){return n.isOnActive?Object(d.a)(Xe||(Xe=Object(s.a)(["background-color: #90d3ffbb;"]))):""})),La=d.b.div(qe||(qe=Object(s.a)(["\n    display: inline-block;\n    width: calc(100% - 90px);\n    height: 100%;\n    text-align: left;\n    background-color: #99e07d;\n    ","\n"])),(function(n){return n.isDisable?Object(d.a)(Ge||(Ge=Object(s.a)(["\n        opacity: 0.3;\n        pointer-events: none;\n    "]))):""})),Ia=d.b.div(Ve||(Ve=Object(s.a)(["\n    display: inline-block;\n    width: 100%;\n    height: 20px;\n    text-align: left;\n    background-color: #75757575;\n    ","\n    border: 1px solid #000;\n    box-sizing: border-box;\n    color: #3030308d;\n    ","\n    font-size: 16px;\n    font-weight: 600;\n    line-height: 16px;\n    text-align: center;\n    & span {\n        color: #9e9e9e;\n    }\n    &:hover {\n        background-color: #fffdfd40;\n        ","\n    }\n"])),(function(n){return n.isActive?Object(d.a)(Ye||(Ye=Object(s.a)(["background-color: #ff6060bd;"]))):""}),(function(n){return n.isDiatonic?Object(d.a)(We||(We=Object(s.a)(["color: #17007e;"]))):""}),(function(n){return n.isActive?Object(d.a)(Je||(Je=Object(s.a)(["background-color: #ff9090bc;"]))):""})),Ta=function(){var n=Object(c.useContext)(rb),e=n.store,t=n.dispatcher,i=e.scoreData,o=i.chordList[0].detail,r=["major","minor"].map((function(n,e){return Object(No.jsx)(Ma,{isActive:o.scale===n,onClick:function(){o.scale=n,i.chordList=i.chordList.slice(),t.score.setScoreData(i)},children:n},e)})),a=("major"===o.scale?v:k).map((function(n,e){var c=o.scale;return Object(No.jsx)(Ka,{isActive:o.keyIndex===e,onClick:function(){o.keyIndex=e,i.chordList=i.chordList.slice(),t.score.setScoreData(i)},children:"".concat(n," ").concat(c)},e)})),s=["4/4","3/4"].map((function(n,e){return Object(No.jsx)(Ba,{isActive:o.timeSignature===n,onClick:function(){o.timeSignature=n,i.chordList=i.chordList.slice(),t.score.setScoreData(i)},children:n},e)}));return Object(No.jsxs)(Aa,{children:[Object(No.jsx)(Da,{children:"Scale"}),Object(No.jsx)(Fa,{children:r}),Object(No.jsx)(Da,{children:"Key"}),Object(No.jsx)(Ra,{children:a}),Object(No.jsx)(Da,{children:"Tempo"}),Object(No.jsxs)(Na,{children:[Object(No.jsx)("input",{type:"number",min:30,max:220,step:1,value:o.bpm,onChange:function(n){o.bpm=n.currentTarget.valueAsNumber,i.chordList=i.chordList.slice(),t.score.setScoreData(i)}}),Object(No.jsx)("input",{type:"range",min:30,max:220,step:1,value:o.bpm,onChange:function(n){o.bpm=n.currentTarget.valueAsNumber,i.chordList=i.chordList.slice(),t.score.setScoreData(i)}})]}),Object(No.jsx)(Da,{children:"Rate"}),Object(No.jsx)(_a,{children:s})]})},Aa=d.b.div(Qe||(Qe=Object(s.a)(["\n    display: inline-block;\n    width: 100%;\n    height: 100%;\n    text-align: left;\n    background-color: #9b9eb8;\n"]))),Da=d.b.div(Ze||(Ze=Object(s.a)(["\n    display: inline-block;\n    width: 100%;\n    height: 18px;\n    text-align: left;\n    /* background-color: #f0f0f0; */\n    background: linear-gradient(to bottom, #707070, #b3b3b3, #707070);\n    font-size: 14px;\n    margin: 5px 0 0 0;\n    color: #ffffff;\n    font-weight: 600;\n    line-height: 14px;\n    box-sizing: border-box;\n    text-align: center;\n"]))),Fa=d.b.div($e||($e=Object(s.a)(["\n    display: inline-block;\n    width: 100%;\n    height: 24px;\n    /* margin: 5px 0 0 0; */\n    text-align: left;\n    /* background-color: #ececec; */\n"]))),Ma=d.b.div(nt||(nt=Object(s.a)(["\n    display: inline-block;\n    width: 50%;\n    height: 100%;\n    /* margin: 5px 0 0 0; */\n    background-color: #6182b4;\n    ","\n\n    font-size: 18px;\n    font-weight: 600;\n    color: #fff;\n    line-height: 18px;\n    text-align: center;\n    border-radius: 5px;\n    border: solid 1px #ffffff;\n    box-sizing: border-box;\n"])),(function(n){return n.isActive?Object(d.a)(et||(et=Object(s.a)(["\n        background-color: #da909082;\n    "]))):""})),Ra=d.b.div(tt||(tt=Object(s.a)(["\n    display: inline-block;\n    width: 100%;\n    /* height: 24px; */\n    /* margin: 5px 0 0 0; */\n    text-align: left;\n    /* background-color: #ececec; */\n"]))),Ka=d.b.div(it||(it=Object(s.a)(["\n    display: inline-block;\n    width: 100%;\n    height: 24px;\n    /* margin: 5px 0 0 0; */\n    background-color: #61b47d;\n    ","\n\n    font-size: 18px;\n    font-weight: 600;\n    color: #fff;\n    line-height: 18px;\n    text-align: center;\n    border-radius: 5px;\n    border: solid 1px #ffffff;\n    box-sizing: border-box;\n"])),(function(n){return n.isActive?Object(d.a)(ct||(ct=Object(s.a)(["\n        background-color: #da909082;\n    "]))):""})),Na=d.b.div(ot||(ot=Object(s.a)(["\n    display: inline-block;\n    width: 100%;\n    height: 24px;\n    /* margin: 5px 0 0 0; */\n    text-align: left;\n    background-color: #ececec;\n\n    & * {\n        display: inline-block;\n        box-sizing: border-box;\n        vertical-align: top;\n    }\n    & input:nth-child(1) {\n        background-color: #dddddd;\n        width: 60px;\n        height: calc(100% - 4px);\n        margin: 2px 0 0 0;\n        border: 1px solid #9b9b9b;\n        border-radius: 4px;\n    }\n    & input:nth-child(2) {\n        margin-left: 5px;\n        background-color: #f00;\n        width: calc(100% - 70px);\n        height: 100%;\n    }\n"]))),_a=d.b.div(rt||(rt=Object(s.a)(["\n    display: inline-block;\n    width: 100%;\n    /* height: 24px; */\n    /* margin: 5px 0 0 0; */\n    text-align: left;\n    /* background-color: #ececec; */\n"]))),Ba=d.b.div(at||(at=Object(s.a)(["\n    display: inline-block;\n    width: 100%;\n    height: 24px;\n    /* margin: 5px 0 0 0; */\n    background-color: #61b47d;\n    ","\n\n    font-size: 18px;\n    font-weight: 600;\n    color: #fff;\n    line-height: 18px;\n    text-align: center;\n    border-radius: 5px;\n    border: solid 1px #ffffff;\n    box-sizing: border-box;\n"])),(function(n){return n.isActive?Object(d.a)(st||(st=Object(s.a)(["\n        background-color: #da909082;\n    "]))):""})),Pa=function(n){var e=Object(c.useContext)(rb),t=e.store,i=e.dispatcher,o=t.scoreState,r=t.scoreData.chordList[o.focusIndex].detail,a=function(n){r.labelName=n,t.scoreData.chordList=t.scoreData.chordList.slice(),i.score.setScoreData(t.scoreData)},s=Object(c.useMemo)((function(){var n=[];return["Intro","A-mero","B-mero","Sabi","C-mero","Outro"].forEach((function(e){var t=0===r.labelName.indexOf(e);n.push(Object(No.jsx)(Va,{isActive:t,onClick:function(){a(e)},children:e},n.length))})),n}),[]),l=Object(c.useMemo)((function(){var n=[];return[1,2,3,4].forEach((function(e){var t=-1!==r.labelName.indexOf(e.toString());n.push(Object(No.jsx)(Ya,{isActive:t,children:e},n.length))})),n}),[]);return Object(No.jsxs)(Ua,{children:[Object(No.jsx)(Ha,{type:"text",value:r.labelName,onChange:function(n){a(n.target.value)}}),Object(No.jsx)(qa,{children:s}),Object(No.jsx)(Ga,{children:l})]})},Ua=d.b.div(lt||(lt=Object(s.a)(["\n    display: inline-block;\n    width: 100%;\n    height: 100%;\n    text-align: left;\n    background-color: #b89b9b;\n"]))),Ha=d.b.input(dt||(dt=Object(s.a)(["\n    display: inline-block;\n    width: 100%;\n    height: 30px;\n    text-align: left;\n    background-color: #bbbbbb;\n    font-size: 22px;\n    font-weight: 600;\n    color: #a30000;\n    box-sizing: border-box;\n    outline: none;\n    border: 1px solid black;\n    border-radius: 4px;\n"]))),Xa=d.b.div(bt||(bt=Object(s.a)(["\n    display: inline-block;\n    width: 100%;\n    height: 30px;\n\n    font-size: 22px;\n    font-weight: 600;\n    color: #fff;\n    line-height: 24px;\n    text-align: center;\n    border-radius: 5px;\n    border: solid 1px #ffffff;\n    box-sizing: border-box;\n    vertical-align: top;\n"]))),qa=d.b.div(ht||(ht=Object(s.a)(["\n    display: inline-block;\n    width: 60%;\n    /* margin: 5px 0 0 0; */\n    text-align: center;\n    background-color: #dac3d8;\n    vertical-align: top;\n"]))),Ga=d.b.div(xt||(xt=Object(s.a)(["\n    display: inline-block;\n    width: 40%;\n    /* margin: 5px 0 0 0; */\n    text-align: center;\n    background-color: #dac3d8;\n    vertical-align: top;\n"]))),Va=Object(d.b)(Xa)(ut||(ut=Object(s.a)(["\n    background-color: #6182b4;\n    ","\n"])),(function(n){return n.isActive?Object(d.a)(pt||(pt=Object(s.a)(["\n        background-color: #ad993fe6;\n    "]))):""})),Ya=Object(d.b)(Xa)(jt||(jt=Object(s.a)(["\n    background-color: #61b4b0;\n    ","\n"])),(function(n){return n.isActive?Object(d.a)(ft||(ft=Object(s.a)(["\n        background-color: #ad993fe6;\n    "]))):""})),Wa=function(){var n=Object(c.useContext)(rb),e=n.store,t=(n.dispatcher,e.scoreState),i=e.scoreData.chordList;if(-1===t.focusIndex||t.focusIndex>i.length-1)return Object(No.jsx)(No.Fragment,{});var o=i[t.focusIndex];return Object(No.jsx)(Ja,{children:function(){switch(o.type){case"init":return Object(No.jsx)(Ta,{});case"section":return Object(No.jsx)(Pa,{});case"chord":return Object(No.jsx)(fa,{});case"change":return Object(No.jsx)(No.Fragment,{})}}()})},Ja=d.b.div(gt||(gt=Object(s.a)(["\n    display: inline-block;\n    margin: 3px 0 0 3px;\n    width: calc(100% - 6px);\n    height: calc(100% - 6px);\n    text-align: left;\n    background-color: #8a8a8a;\n"]))),Qa=function(){for(var n=Object(c.useContext)(rb),e=n.store,t=(n.dispatcher,e.scoreState),i=e.scoreData.chordList,o=t.focusIndex,r=t.elementCacheList,a=Object(No.jsx)(No.Fragment,{}),s=Object(No.jsx)(No.Fragment,{}),l=Object(No.jsx)(No.Fragment,{}),d=Object(No.jsx)(No.Fragment,{}),b=Object(No.jsx)(No.Fragment,{}),h=Object(No.jsx)(No.Fragment,{}),x=[],u=2,p=2,j=i.length-1,f=o;f>2;){if("chord"===i[f].type){u=f;break}f--}if(u>2)for(f=u-1;f>2;){if("chord"===i[f].type){p=f;break}f--}for(f=o+1;f<i.length-1;){if("chord"===i[f].type){j=f;break}f++}if(-1===t.focusIndex||t.focusIndex>t.elementCacheList.length)return Object(No.jsx)(No.Fragment,{});var g=function(n,e){for(var t=e.beat+e.minute,i=0;i<Math.floor(n/.25);i++){var c=i+Math.floor(t/.25),o={width:1,height:10,color:"#555"};switch(!0){case c%16===0:o={width:2,height:22,color:"#747474"};break;case c%4===0:o={width:1,height:18,color:"#646464"};break;case c%2===0:o={width:1,height:14,color:"#7a7a7a"}}x.push(Object(No.jsx)(ss,{width:o.width,height:o.height,color:o.color,children:c%16===0?Object(No.jsx)(ls,{children:e.bar+1+(0===t?0:1)}):""},x.length))}};if(u>2)if(2===p)s=Object(No.jsx)(is,{sustain:4,children:"start"}),b=Object(No.jsx)(is,{sustain:4}),x.push(Object(No.jsx)(as,{},x.length));else{var O=i[p].detail,v=r[p],k=O.beatLen+O.minute.head+O.minute.tail;s=Object(No.jsx)(is,{sustain:O.beatLen,children:"Prev"}),b=Object(No.jsx)(is,{sustain:k}),g(k,v)}if(2===u)a=Object(No.jsx)(cs,{sustain:4,children:"start"}),d=Object(No.jsx)(cs,{sustain:4}),x.push(Object(No.jsx)(as,{},x.length));else{var m=i[u].detail,y=r[u],w=m.beatLen+m.minute.head+m.minute.tail;a=Object(No.jsx)(cs,{sustain:m.beatLen,children:"Cur"}),d=Object(No.jsx)(cs,{sustain:w}),g(w,y)}if(j===i.length-1)l=Object(No.jsx)(os,{sustain:4,children:"end"}),h=Object(No.jsx)(os,{sustain:4}),x.push(Object(No.jsx)(as,{},x.length));else{var S=i[j].detail,C=r[j],E=S.beatLen+S.minute.head+S.minute.tail;l=Object(No.jsx)(os,{sustain:S.beatLen,children:"Next"}),h=Object(No.jsx)(os,{sustain:E}),g(E+.25,C)}return Object(No.jsxs)(Za,{children:[Object(No.jsxs)($a,{children:[Object(No.jsxs)(ns,{children:[s,a,l]}),Object(No.jsxs)(es,{children:[b,d,h]})]}),Object(No.jsx)(rs,{children:x})]})},Za=d.b.div(Ot||(Ot=Object(s.a)(["\n    overflow: hidden;\n    text-align: left;\n    white-space: nowrap;  \n"]))),$a=d.b.div(vt||(vt=Object(s.a)(["\n    display: block;\n    /* position: relative; */\n    height: 40px;\n    /* width: 2200px; */\n    background-color: rgb(131, 131, 131);\n"]))),ns=d.b.div(kt||(kt=Object(s.a)(["\n    display: block;\n    height: 30px;\n"]))),es=d.b.div(mt||(mt=Object(s.a)(["\n    display: block;\n    height: 10px;\n"]))),ts=d.b.div(yt||(yt=Object(s.a)(["\n    display: inline-block;\n    width: ","px;\n    height: 100%;\n\n    font-size: 16px;\n    font-weight: 600;\n    color: white;\n    text-align: center;\n"])),(function(n){return 50*n.sustain})),is=Object(d.b)(ts)(wt||(wt=Object(s.a)(["\n    background-color: rgba(0, 21, 211, 0.158);\n"]))),cs=Object(d.b)(ts)(St||(St=Object(s.a)(["\n    background-color: rgb(233, 5, 5);\n"]))),os=Object(d.b)(ts)(Ct||(Ct=Object(s.a)(["\n    background-color: rgba(31, 189, 0, 0.144);\n"]))),rs=d.b.div(Et||(Et=Object(s.a)(["\n    display: block;\n    position: relative;\n    height: 38px;\n    background-color: rgb(48, 48, 48);\n    border-top: solid 2px rgb(128, 128, 128);\n    background: linear-gradient(to bottom, rgb(255, 255, 255), rgb(98, 97, 114));\n"]))),as=d.b.div(zt||(zt=Object(s.a)(["\n    display: inline-block;\n    width: ","px;\n    height: 100%;\n    background-color: #cecece;\n    box-sizing: border-box;\n"])),200),ss=d.b.div(Lt||(Lt=Object(s.a)(["\n    display: inline-block;\n    position: relative;\n    width: ","px;\n    height: ","px;\n    border-left: solid ","px ",";\n    box-sizing: border-box;\n"])),12.5,(function(n){return n.height}),(function(n){return n.width}),(function(n){return n.color})),ls=d.b.div(It||(It=Object(s.a)(["\n    display: inline-block;\n    position: absolute;\n    z-index: 10;\n    left: -5px;\n    top: 18px;\n    font-size: 16px;\n    font-weight: 600;\n    color: #dd0000;\n"]))),ds=function(){var n=Object(c.useContext)(rb),e=n.store,t=(n.dispatcher,e.scoreState),i=e.scoreData.chordList[t.focusIndex],o=t.elementCacheList[t.focusIndex],r=null==o?[]:[0,2,4,5,7,9,11].map((function(n){return(o.keyIndex+n)%12})),a=[],s=Object(c.useMemo)((function(){var n=[],e=[];if("chord"===i.type){var t=i.detail,c=t.root,s=C(t.symbolKey);null!=c&&null!=s&&(a=function(n,e){return e.map((function(e){return n+y[e]}))}((c.index+o.keyIndex)%12,s.structs),e=s.structs.map((function(n,e){return Object(No.jsxs)(hs,{children:[Object(No.jsx)("span",{children:n}),Object(No.jsx)("span",{children:y[n]})]},e)})))}for(var l=0;l<14;l++){var d=n.length,b=r.includes(d%12),h=a.includes(d);if(n.push(Object(No.jsx)(us,{isBlack:!1,index:l,isScale:b,isUse:h},n.length)),[0,1,3,4,5].includes(l%7)){var x=n.length,u=r.includes(x%12),p=a.includes(x);n.push(Object(No.jsx)(us,{isBlack:!0,index:l,isScale:u,isUse:p},n.length))}}return[n,e]}),[a]),d=Object(l.a)(s,2),b=d[0];d[1];return Object(No.jsx)(bs,{isUse:a.length>0,children:Object(No.jsx)(xs,{children:b})})},bs=d.b.div(Tt||(Tt=Object(s.a)(["\n    display: inline-block;\n    width: 100%;\n    height: 100%;\n    ","\n    & * {\n        vertical-align: top;\n    }\n"])),(function(n){return n.isUse?"":Object(d.a)(At||(At=Object(s.a)(["\n        opacity: 0.5;\n    "])))})),hs=(d.b.div(Dt||(Dt=Object(s.a)(["\n    display: inline-block;\n    width: 50px;\n    height: 100%;\n    background-color: #949494;\n    /* border: solid 1px #a3a3a3; */\n    box-sizing: border-box;\n    /* padding: 2px 0 0 0; */\n"]))),d.b.div(Ft||(Ft=Object(s.a)(["\n    display: inline-block;\n    width: 100%;\n    height: 15px;\n    box-sizing: border-box;\n\n    /* background-color: #4b4b4b; */\n    /* background: linear-gradient(to bottom, #adac6c, #e0df7d, #adac6c); */\n    /* background: linear-gradient(to bottom, #858585, #4b4b4b, #858585); */\n    border: solid 1px rgb(207, 207, 207);\n    margin-bottom: 1px;\n    font-size: 12px;\n    font-weight: 600;\n    line-height: 12px;\n    text-align: center;\n\n    & span:nth-child(1){\n        color: #f5e400;\n    }\n    & span:nth-child(2){\n        margin-left: 10px;\n        color: #ffffff;\n    }\n"])))),xs=d.b.div(Mt||(Mt=Object(s.a)(["\n    display: inline-block;\n    position: relative;\n    width: calc(100% - 50px);\n    height: 100%;\n    /* background-color: #383838; */\n    /* padding: 12px 0 0 2px;\n    box-sizing: border-box; */\n"]))),us=d.b.div(Rt||(Rt=Object(s.a)(["\n    display: inline-block;\n    position: absolute;\n    top: ","px;\n    left: ","px;\n    z-index: 2;\n    border: 1px solid #ffffffda;\n    border-radius: 20px;\n    width: 25px;\n    height: ","px;\n    /* background-color: #7d7d9e; */\n    ","\n    ","\n    box-sizing: border-box;\n"])),(function(n){return 2+(n.isBlack?0:32)}),(function(n){return 2+27*n.index+(n.isBlack?12.5:0)}),(function(n){return n.isBlack?32:43}),(function(n){return n.isScale?Object(d.a)(Kt||(Kt=Object(s.a)(["\n    background: radial-gradient(#c3c3d6, #8989a8);\n    "]))):Object(d.a)(Nt||(Nt=Object(s.a)(["\n    background: radial-gradient(#d6c3ca, #a88995);\n    "])))}),(function(n){return n.isUse?n.isScale?Object(d.a)(_t||(_t=Object(s.a)(["\n        background: radial-gradient(#3e9ef7, #254e74);\n    "]))):Object(d.a)(Bt||(Bt=Object(s.a)(["\n        background: radial-gradient(#d43131, #722a2a);\n    "]))):""})),ps=function(){for(var n=Object(c.useContext)(rb),e=n.store,t=n.dispatcher,i=e.scoreState,o=[],r=function(n){o.push(Object(No.jsx)(Os,{isActive:i.initialBeat>n,onClick:function(){i.initialBeat=n+1,t.score.setScoreState(i)}},n))},a=0;a<4;a++)r(a);return Object(No.jsxs)(js,{children:[Object(No.jsx)(fs,{children:"inital beat"}),Object(No.jsx)(gs,{children:o})]})},js=d.b.div(Pt||(Pt=Object(s.a)(["\n    display: inline-block;\n    height: 100%;\n    /* background-color: red; */\n    & *{\n        vertical-align: top;\n    }\n"]))),fs=d.b.div(Ut||(Ut=Object(s.a)(["\n    display: inline-block;\n    height: 100%;\n    font-size: 18px;\n    font-weight: 600;\n    color: #979797;\n    margin-left: 4px;\n    font-style: italic;\n    line-height: 38px;\n    /* background-color: yellow; */\n"]))),gs=d.b.div(Ht||(Ht=Object(s.a)(["\n    display: inline-block;\n    width: 142px;\n    height: calc(100% - 6px);\n    margin: 3px 0 0 8px;\n    border-radius: 4px;\n    border: solid 1px #747474;\n    box-sizing: border-box;\n"]))),Os=d.b.div(Xt||(Xt=Object(s.a)(["\n    display: inline-block;\n    width: 30px;\n    height: calc(100% - 6px);\n    margin: 3px 0 0 4px;\n    background-color: #d6d6d6;\n    ","\n    border: solid 1px #b9b9b9;\n    box-sizing: border-box;\n"])),(function(n){return n.isActive?Object(d.a)(qt||(qt=Object(s.a)(["background-color: #eeedcf;"]))):""})),vs=function(){var n=Object(c.useContext)(rb),e=n.store,t=(n.dispatcher,e.backingState),i=[],o=t.pattern;return o.layers[o.layerIndex].noteDivList.forEach((function(n,e){var t=o.lenIndex===e,c=n.rate;n.isHalf&&(c/=1.5),i.push(Object(No.jsxs)(ms,{rate:c,isActive:t,children:[n.rate,n.isHalf?".":"",n.isDiv3?"/":""]},e))})),Object(No.jsx)(ks,{children:i})},ks=d.b.div(Gt||(Gt=Object(s.a)(["\n    display: inline-block;\n    width: 100%;\n    height: 100%;\n"]))),ms=d.b.div(Vt||(Vt=Object(s.a)(["\n    display: inline-block;\n    width: ","px;\n    height: calc(100% - 4px);\n    margin: 2px 0 0 1px;\n    background-color: #1616beb0;\n    ","\n    box-sizing: border-box;\n\n    font-size: 14px;\n    font-weight: 600;\n    color: #ffffffba;\n    text-align: center;\n"])),(function(n){return 480/n.rate-1}),(function(n){return n.isActive?Object(d.a)(Yt||(Yt=Object(s.a)(["\n        background-color: #6363eeaf;\n    "]))):""})),ys=function(){var n=Object(c.useContext)(rb),e=n.store,t=(n.dispatcher,e.backingState.pattern),i=t.channels.length,o=Array(2);return t.layers.forEach((function(n,e){for(var c=[],r=function(e){var i=[];n.noteDivList.forEach((function(n,e){var c=t.lenIndex===e,o=n.rate;n.isHalf&&(o/=1.5),i.push(Object(No.jsx)(Cs,{rate:o,isActive:c},e))})),c.push(Object(No.jsx)(Ss,{isEven:e%2==0,isFront:!0,children:i},e))},a=0;a<i;a++)r(a);o[e]=c})),Object(No.jsx)(No.Fragment,{children:Object(No.jsx)(ws,{zIndex:1,children:o[t.layerIndex]})})},ws=d.b.div(Wt||(Wt=Object(s.a)(["\n    display: inline-block;\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    overflow: hidden;\n"]))),Ss=d.b.div(Jt||(Jt=Object(s.a)(["\n    display: inline-block;\n    width: 100%;\n    height: 20px;\n    ","\n"])),(function(n){return n.isFront?Object(d.a)(Qt||(Qt=Object(s.a)(["\n        ","\n    "])),(function(n){return n.isEven?Object(d.a)($t||($t=Object(s.a)(["\n            background-color: #42425542;\n        "]))):Object(d.a)(Zt||(Zt=Object(s.a)(["\n            background-color: #3a3a502f;\n        "])))})):""})),Cs=d.b.div(ni||(ni=Object(s.a)(["\n    display: inline-block;\n    width: ","px;\n    height: calc(100% - 1px);\n    margin: 1px 0 0 1px;\n    background-color: #ffffff31;\n    ","\n    box-sizing: border-box;\n\n    &:hover {\n        background-color: #82f7ff57;\n    }\n"])),(function(n){return 480/n.rate-1}),(function(n){return n.isActive?Object(d.a)(ei||(ei=Object(s.a)(["\n        background-color: #ffffff56;\n    "]))):""})),Es=function(){var n=Object(c.useContext)(rb),e=n.store,t=(n.dispatcher,e.backingState);t.chordInfo,t.pattern;return Object(No.jsxs)(No.Fragment,{children:[Object(No.jsxs)(zs,{children:[Object(No.jsx)(Ls,{children:Object(No.jsx)(vs,{})}),Object(No.jsx)(Is,{})]}),Object(No.jsx)(Ts,{children:Object(No.jsx)(ys,{})}),Object(No.jsx)(As,{})]})},zs=d.b.div(ti||(ti=Object(s.a)(["\n    display: inline-block;\n    width: 100%;\n    height: ","px;\n    background-color: #9292bdd6;\n"])),50),Ls=d.b.div(ii||(ii=Object(s.a)(["\n    display: inline-block;\n    width: 100%;\n    height: ","px;\n    background-color: #9292bdd6;\n"])),25),Is=d.b.div(ci||(ci=Object(s.a)(["\n    display: inline-block;\n    width: 100%;\n    height: ","px;\n    background-color: #b492bdd5;\n"])),25),Ts=d.b.div(oi||(oi=Object(s.a)(["\n    display: inline-block;\n    position: relative;\n    width: 100%;\n    height: ","px;\n    background-color: #97d3cec8;\n"])),240),As=d.b.div(ri||(ri=Object(s.a)(["\n    display: inline-block;\n    width: 100%;\n    height: ","px;\n    background-color: #898997cc;\n"])),60),Ds=function(n){return Object(No.jsx)(No.Fragment,{children:Object(No.jsxs)(Fs,{children:[Object(No.jsx)(Rs,{children:n.soundFullName}),Object(No.jsx)(Ks,{children:"-"}),Object(No.jsx)(Ks,{children:"+"})]})})},Fs=d.b.div(ai||(ai=Object(s.a)(["\n    display: inline-block;\n    width: 100%;\n    height: 19px;\n    background-color: #b4b3b36f;\n    margin: 0 0 1px 0;\n"]))),Ms=d.b.div(si||(si=Object(s.a)(["\n    display: inline-block;\n    height: 100%;\n    margin: 0 1px 0 0;\n    border: 1px solid #322e4292;\n    border-radius: 4px;\n    box-sizing: border-box;\n    font-size: 12px;\n    font-weight: 600;\n    color: #ffffff;\n    text-align: center;\n"]))),Rs=Object(d.b)(Ms)(li||(li=Object(s.a)(["\n    width: 47px;\n\n"]))),Ks=Object(d.b)(Ms)(di||(di=Object(s.a)(["\n    width: 25px;\n    \n"]))),Ns=function(){var n=Object(c.useContext)(rb),e=n.store,t=(n.dispatcher,e.backingState),i=t.chordInfo,o=C(i.symbolKey),r=t.pattern,a=[];null!=r&&r.channels.forEach((function(n,e){var t="-";if(-1!==n.octave){var c=i.chordRoot+y[o.structs[n.structIndex]],r=n.octave+Math.floor(c/12);t=g[c%12]+r}a.push(Object(No.jsx)(Ds,{soundFullName:t},e))}));return Object(No.jsxs)(No.Fragment,{children:[Object(No.jsx)(_s,{}),Object(No.jsx)(Bs,{children:a}),Object(No.jsx)(Ps,{})]})},_s=d.b.div(bi||(bi=Object(s.a)(["\n    /* display: inline-block; */\n    width: 100%;\n    height: ","px;\n    background-color: #9292bdd6;\n"])),50),Bs=d.b.div(hi||(hi=Object(s.a)(["\n/* display: inline-block; */\n    width: 100%;\n    height: ","px;\n    background-color: #97d3cec8;\n"])),240),Ps=d.b.div(xi||(xi=Object(s.a)(["\n/* display: inline-block; */\n    width: 100%;\n    height: ","px;\n    background-color: #898997cc;\n"])),60),Us=function(){for(var n=Object(c.useContext)(rb),e=n.store,t=n.dispatcher,i=e.backingState,o=i.pattern,r=o.layers[o.layerIndex].noteDivList[o.lenIndex],a=(i.chordInfo,function(){t.backing.setState(i)}),s=function(n,e,t){return Object(No.jsx)(qs,{isEnable:!0,isActive:e,onClick:t,children:n})},l=function(n){return s(String(n),r.rate===n,(function(){return function(n){r.rate=n,a()}(n)}))},d=[],b=0;b<12;b++){var h=b+1;d.push(Object(No.jsx)(Xs,{value:h,children:h},b))}return Object(No.jsxs)(No.Fragment,{children:[Object(No.jsx)(Hs,{onChange:function(n){o.channels=[];for(var e=0;e<Number(n.target.value);e++)o.channels.push({octave:-1,structIndex:0});a()},children:d}),l(16),l(8),l(4),l(2),l(1),s(".",r.isHalf,(function(){r.isHalf=!r.isHalf,a()}))]})},Hs=(d.b.div(ui||(ui=Object(s.a)(["\n    display: inline-block;\n    width: 100%;\n    height: 100%;\n"]))),d.b.select(pi||(pi=Object(s.a)(["\n    display: inline-block;\n    width: 50px;\n    height: 26px;\n    margin: 2px 2px 0 0;\n    color: #ff0000;\n    font-size: 20px;\n    font-weight: 600;\n    background-color: #d4d4d422;\n    border: solid 1px #555;\n    border-radius: 4px;\n    box-sizing: border-box;\n    line-height: 20px;\n    text-align: center;\n    outline: none;\n"])))),Xs=d.b.option(ji||(ji=Object(s.a)(["\n    background-color: black;\n    color: white;\n    font-size: 16px;\n    font-weight: 600;\n"]))),qs=d.b.div(fi||(fi=Object(s.a)(["\n    display: inline-block;\n    width: 50px;\n    height: 26px;\n    margin: 2px 2px 0 0;\n    font-size: 20px;\n    color: white;\n    font-weight: 600;\n    background-color: #ff008023;\n    border: solid 1px #555;\n    border-radius: 4px;\n    box-sizing: border-box;\n    line-height: 20px;\n    text-align: center;\n\n    ","\n\n    ","\n\n    &:hover {\n        background-color: #ff008039;\n    }\n"])),(function(n){return n.isEnable?"":Object(d.a)(gi||(gi=Object(s.a)(["\n        opacity: 0.5;\n        pointer-events: none;\n    "])))}),(function(n){return n.isActive?Object(d.a)(Oi||(Oi=Object(s.a)(["\n        background-color: #fbff0050;\n    "]))):""})),Gs=function(){var n=Object(c.useContext)(rb),e=n.store,t=n.dispatcher,i=e.backingState,o=(i.chordInfo,null!=i.pattern),r=function(){t.backing.setState(i)};return Object(No.jsxs)(Vs,{children:[Object(No.jsx)(Ys,{children:Object(No.jsxs)(Js,{children:[Object(No.jsx)(Ws,{children:"Pattern"}),Object(No.jsx)(Qs,{isActive:o,onClick:function(){if(o)i.pattern=null,r();else{var n=i.voicingTable,e=t.backing.getChannels(n).reverse();i.pattern={layerIndex:0,lenIndex:0,channels:e,isUsePedal:!1,layers:[t.backing.getInitialLayer(),t.backing.getInitialLayer()]},r()}},children:"Use"})]})}),Object(No.jsx)(Zs,{isActive:o,children:o?Object(No.jsxs)(No.Fragment,{children:[Object(No.jsx)($s,{children:Object(No.jsx)(Us,{})}),Object(No.jsxs)(nl,{children:[Object(No.jsx)(el,{children:Object(No.jsx)(Ns,{})}),Object(No.jsx)(tl,{children:Object(No.jsx)(Es,{})})]})]}):Object(No.jsx)(No.Fragment,{})})]})},Vs=d.b.div(vi||(vi=Object(s.a)(["\n    display: inline-block;\n    width: 100%;\n    /* height: 300px; */\n    background-color: #001279;\n\n    & *{\n        /* display: inline-block;\n        width: 100%; */\n    }\n"]))),Ys=d.b.div(ki||(ki=Object(s.a)(["\n    height: 30px;\n    background-color: #a5d1c3;\n"]))),Ws=d.b.div(mi||(mi=Object(s.a)([""]))),Js=d.b.div(yi||(yi=Object(s.a)(["\n    display: inline-block;\n    width: 200px;\n    height: 100%;\n    /* background-color: #7986d1; */\n\n    & * {\n        display: inline-block;\n        height: calc(100% - 4px);\n        margin-top: 2px;\n        box-sizing: border-box;        \n    }\n\n    & "," {\n        width: 80px;\n        font-size: 20px;\n        color: #f1fffb;\n        font-weight: 600;\n        /* background-color: #00000028; */\n        margin: 2px 2px 0 2px;\n        line-height: 22px;\n        text-align: center;\n    }\n"])),Ws),Qs=d.b.div(wi||(wi=Object(s.a)(["\n    width: 100px;\n    font-size: 20px;\n    color: white;\n    font-weight: 600;\n    background-color: #ff008023;\n    border: solid 1px #555;\n    border-radius: 4px;\n    line-height: 20px;\n    text-align: center;\n\n    ","\n\n    &:hover {\n        background-color: #ff008039;\n    }\n"])),(function(n){return n.isActive?Object(d.a)(Si||(Si=Object(s.a)(["\n        /* background-color: #b1dfc979; */\n        color: #fa1d1d;\n    "]))):""})),Zs=d.b.div(Ci||(Ci=Object(s.a)(["\n    display: inline-block;\n    width: 100%;\n    overflow: hidden;\n    height: ","px;\n    ","\n    transition: height 100ms;\n"])),380,(function(n){return n.isActive?"":Object(d.a)(Ei||(Ei=Object(s.a)(["\n        height: 0;\n    "])))})),$s=d.b.div(zi||(zi=Object(s.a)(["\n    display: inline-block;\n    width: 100%;\n    height: ","px;\n    background-color: #8d98d4;\n    text-align: left;\n"])),30),nl=d.b.div(Li||(Li=Object(s.a)(["\n    display: inline-block;\n    width: 100%;\n    height: 100%;\n    background-color: #d48d8d;\n\n    /* & *{\n        display: inline-block;\n        height: 100%;\n    } */\n"]))),el=d.b.div(Ii||(Ii=Object(s.a)(["\n    display: inline-block;\n    width: 100px;\n    background-color: #dadada;\n"]))),tl=d.b.div(Ti||(Ti=Object(s.a)(["\n    display: inline-block;\n    width: calc(100% - 100px);\n    background-color: #76af90;\n"]))),il=function(){for(var n=Object(c.useContext)(rb),e=n.store,t=n.dispatcher,i=e.backingState,o=i.chordInfo,r=C(o.symbolKey),a=i.voicingTable,s=[],l=function(n){for(var e=[],c=function(c){var s=r.structs.length>c,l=a[n][c],d=y[r.structs[c]],h=(o.chordRoot+d)%12,x=n+Math.floor((o.chordRoot+d)/12),u=s?"".concat(g[h]).concat(x):"";e.push(Object(No.jsx)(bl,{isEnable:s,isSelected:l,onClick:function(){a[n][c]=!l;var e=i.pattern;if(null!=e){var o=t.backing.getChannels(a);e.channels.forEach((function(n,e){e<o.length?(n.octave=o[e].octave,n.structIndex=o[e].structIndex):(n.octave=-1,n.structIndex=0)})),e.channels=e.channels.reverse()}t.backing.setState(Object(b.a)(Object(b.a)({},i),{},{voicingTable:a,pattern:e}))},children:u},c))},l=0;l<6;l++)c(l);s.push(Object(No.jsx)(dl,{children:e},n))},d=0;d<8;d++)l(d);return Object(No.jsxs)(cl,{children:[Object(No.jsx)(ol,{}),Object(No.jsxs)(rl,{children:[Object(No.jsxs)(al,{children:[Object(No.jsx)(sl,{children:"root [C]"}),Object(No.jsx)(sl,{children:"long3 [E]"}),Object(No.jsx)(sl,{children:"perfect5 [G]"})]}),Object(No.jsx)(ll,{children:s})]})]})},cl=d.b.div(Ai||(Ai=Object(s.a)(["\n    display: inline-block;\n    width: 600px;\n"]))),ol=d.b.div(Di||(Di=Object(s.a)(["\n    display: inline-block;\n    width: 100%;\n    height: 30px;\n    background-color: #338f8f;\n"]))),rl=d.b.div(Fi||(Fi=Object(s.a)(["\n    display: inline-block;\n    width: 100%;\n    height: ","px;\n    background-color: #c09e05;\n    border: solid 1px #888;\n    border-radius: 5px;\n    box-sizing: border-box;\n\n    & *{\n        vertical-align: top;\n        height: 100%;\n    }\n"])),142),al=d.b.div(Mi||(Mi=Object(s.a)(["\n    display: inline-block;\n    width: calc(100% - ","px);\n    /* width: 100px; */\n    background-color: #8fb5bc;\n"])),480),sl=d.b.div(Ri||(Ri=Object(s.a)(["\n    display: inline-block;\n    width: calc(100% - 2px);\n    height: ","px;\n    margin-top: 1px;\n    /* width: 100px; */\n    /* background-color: #8fb5bc; */\n    background: linear-gradient(to bottom, #10828a, #76d5db, #10828a);\n    font-size: 16px;\n    font-weight: 600;\n    color: white;\n    padding-left: 5px;\n    box-sizing: border-box;\n"])),22),ll=d.b.div(Ki||(Ki=Object(s.a)(["\n    display: inline-block;\n    background-color: #a7acd8;\n"]))),dl=d.b.div(Ni||(Ni=Object(s.a)(["\n    display: inline-block;\n    width: ","px;\n    height: 100%;\n    /* margin-left: 1px; */\n    background-color: #a7d8c4;\n    padding-bottom: 2px;\n    box-sizing: border-box;\n"])),60),bl=d.b.div(_i||(_i=Object(s.a)(["\n    display: inline-block;\n    width: calc(100% - 1px);\n    height: ","px;\n    margin: 1px 0 0 1px;\n    background-color: #409ca3;\n    color: #01004e;\n    ","\n    ","\n    /* border: 1px solid #ffffff; */\n    box-sizing: border-box;\n\n    font-size: 16px;\n    font-weight: 600;\n    text-align: center;\n\n    &:hover {\n        background-color: #117dbb;\n        ","\n    }\n"])),22,(function(n){return n.isSelected?Object(d.a)(Bi||(Bi=Object(s.a)(["\n        background-color: #43a6c4;\n    color: #ffffff;\n    "]))):""}),(function(n){return n.isEnable?"":Object(d.a)(Pi||(Pi=Object(s.a)(["\n        opacity: 0.5;\n        pointer-events: none;\n    "])))}),(function(n){return n.isSelected?Object(d.a)(Ui||(Ui=Object(s.a)(["\n            background-color: #3f70bb;\n        "]))):""})),hl=function(){var n=Object(c.useContext)(rb),e=n.store,t=n.dispatcher;e.backingState;return Object(No.jsxs)(xl,{children:[Object(No.jsx)(il,{}),Object(No.jsx)(Gs,{}),Object(No.jsxs)(ul,{children:[Object(No.jsx)(pl,{isEnable:!0,children:"Test"}),Object(No.jsx)(pl,{isEnable:!0,children:"Cancel"}),Object(No.jsx)(pl,{isEnable:!0,onClick:function(){t.backing.applyBackingToChord(),t.backing.closeBackingEditor()},children:"Update"})]})]})},xl=d.b.div(Hi||(Hi=Object(s.a)(["\n    display: inline-block;\n    width: 600px;\n"]))),ul=d.b.div(Xi||(Xi=Object(s.a)(["\n    display: inline-block;\n    height: 30px;\n    width: 100%;\n    /* background-color: #bd4646; */\n    text-align: right;\n"]))),pl=d.b.div(qi||(qi=Object(s.a)(["\n    display: inline-block;\n    width: 100px;\n    height: 26px;\n    margin: 2px 2px 0 0;\n    font-size: 20px;\n    color: white;\n    font-weight: 600;\n    background-color: #ff008023;\n    border: solid 1px #555;\n    border-radius: 4px;\n    box-sizing: border-box;\n    line-height: 20px;\n    text-align: center;\n\n    ","\n\n    &:hover {\n        background-color: #ff008039;\n    }\n"])),(function(n){return n.isEnable?"":Object(d.a)(Gi||(Gi=Object(s.a)(["\n        opacity: 0.5;\n        pointer-events: none;\n    "])))})),jl=function(){var n=Object(c.useContext)(rb),e=n.store,t=n.dispatcher,i="backing"===e.scoreState.hideMenu,o=e.scoreData.chordList,r=e.scoreState.focusIndex;return Object(No.jsxs)(No.Fragment,{children:[Object(No.jsx)(fl,{isOpen:i,onClick:function(){t.backing.closeBackingEditor()}}),Object(No.jsxs)(gl,{children:[Object(No.jsx)(Ol,{isOpen:i,children:null==e.backingState?Object(No.jsx)(No.Fragment,{}):Object(No.jsx)(hl,{})}),Object(No.jsx)(vl,{isEnable:"chord"===o[r].type,onClick:function(){t.backing.openBackingEditor()},children:Object(No.jsx)("div",{children:"Backing"})})]})]})},fl=d.b.div(Vi||(Vi=Object(s.a)(["\n    display: ",";\n    position: absolute;\n    z-index: 10;\n    left: 0;\n    top: 0;\n    width: 100%;\n    height: 100%;\n    background-color: #01004216;\n    backdrop-filter: blur(6px);\n"])),(function(n){return n.isOpen?"inline-block":"none"})),gl=d.b.div(Yi||(Yi=Object(s.a)(["\n    display: inline-block;\n    position: absolute;\n    z-index: 11;\n    left: 0;\n    top: 0;\n    /* width: 525px; */\n\n    & * {\n        vertical-align: top;\n    }\n"]))),Ol=d.b.div(Wi||(Wi=Object(s.a)(["\n    display: inline-block;\n    width: ",";\n    /* height: 400px; */\n    background-color: #a3a3a3;\n    opacity: 0.9;\n    transition: width 0.1s;\n    overflow: hidden;\n"])),(function(n){return n.isOpen?"600px":0})),vl=d.b.div(Ji||(Ji=Object(s.a)(["\n    display: inline-block;\n    width: 25px;\n    height: 150px;\n    background-color: #e4e4e4;\n    border-top: 1px solid #5a5a5a;\n    border-right: 1px solid #5a5a5a;\n    border-bottom: 1px solid #5a5a5a;\n    border-radius: 0 10px 10px 0;\n    font-size: 16px;\n    font-weight: 600;\n    color: #5a5a5a;\n    text-align: center;\n    line-height: 16px;\n    box-sizing: border-box;\n    ","\n    \n    & div {\n        width: 150px;\n        transform-origin: top left;\n        transform: rotate(-90deg) translateX(-100%);\n        /* background-color: #fff; */\n    }\n\n    &:hover {\n        background-color: #d1e5eb;\n    }\n"])),(function(n){return n.isEnable?"":Object(d.a)(Qi||(Qi=Object(s.a)(["\n        opacity: 0.5;\n        pointer-events: none;\n    "])))})),kl=function(n){var e=Object(c.useContext)(rb),t=e.store,i=e.dispatcher,o=Object(c.useRef)({}),r=t.scoreData.chordList,a=(t.scoreState.focusIndex,t.scoreData.chordList[0].detail),s=t.scoreState.isTune;return Object(c.useEffect)((function(){s||o.current.focus()}),[s]),Object(c.useEffect)((function(){var n=[],e=[],c=0,o=0,s=0,l=0,d=-1,b=-1,h=0;r.forEach((function(t,i){switch(t.type){case"fixed":break;case"init":var x=t.detail;b=x.keyIndex;break;case"section":var u=t.detail;e.push({labelName:u.labelName,beatSum:0,rangeIndexStart:i,rangeIndexEnd:r.length-2}),++d>0&&(e[d-1].rangeIndexEnd=i-1,e[d-1].beatSum=h,h=0);break;case"chord":var p=t.detail;c=o,o+=p.beatLen,h+=p.beatLen,s=l,l+=p.minute.head,l+=p.minute.tail}var j=6e4/a.bpm*(c+s),f=function(n){switch(n){case"4/4":return[4,4];case"3/4":return[3,4]}return[0,0]}(a.timeSignature)[0];n.push({bar:Math.floor(c/f),beat:c%f,minute:s,keyIndex:b,sectionNo:d,pastSecond:j,reffers:{}})})),e[d].beatSum=h,t.scoreState.elementCacheList=n,t.scoreState.sectionCacheList=e,i.score.setScoreState(t.scoreState)}),[r,r.length,a.bpm]),Object(No.jsxs)(ml,{tabIndex:999,ref:o,isActive:n.isActive,onKeyDown:function(n){return ja(n,t,i,!0)},onKeyUp:function(n){return ja(n,t,i,!1)},children:[Object(No.jsxs)(yl,{children:[Object(No.jsx)(Sl,{children:Object(No.jsx)(ps,{})}),Object(No.jsxs)(Cl,{children:[Object(No.jsx)(jl,{}),Object(No.jsx)(El,{children:Object(No.jsx)(ha,{})})]}),Object(No.jsxs)(zl,{children:[Object(No.jsx)(Ll,{children:Object(No.jsx)(Qa,{})}),Object(No.jsx)(Il,{children:Object(No.jsx)(ds,{})})]})]}),Object(No.jsx)(wl,{children:Object(No.jsx)(Wa,{})})]})},ml=d.b.div(Zi||(Zi=Object(s.a)(["\n    display: ",";\n    width: 100%;\n    height: 100%;\n    outline: none;\n"])),(function(n){return n.isActive?"inline-block":"none"})),yl=d.b.div($i||($i=Object(s.a)(["\n    display: inline-block;\n    width: calc(100% - ","px);\n    height: 100%;\n    background-color: #c7c7c7;\n    vertical-align: top;\n"])),220),wl=d.b.div(nc||(nc=Object(s.a)(["\n    display: inline-block;\n    width: ","px;\n    height: 100%;\n    background-color: #d6d6d6;\n    vertical-align: top;\n"])),220),Sl=d.b.div(ec||(ec=Object(s.a)(["\n    display: inline-block;\n    width: 100%;\n    height: ","px;\n    background-color: #d4d4d4;\n"])),35),Cl=d.b.div(tc||(tc=Object(s.a)(["\n    display: inline-block;\n    position: relative;\n    width: 100%;\n    height: calc(100% - ","px);\n    background-color: #e0e0e0;\n"])),115),El=d.b.div(ic||(ic=Object(s.a)(["\n    display: inline-block;\n    margin-left: 25px;\n    width: calc(100% - 25px);\n    height: 100%;\n    vertical-align: top;\n"]))),zl=d.b.div(cc||(cc=Object(s.a)(["\n    display: inline-block;\n    width: 100%;\n    height: ","px;\n    background-color: #cacaca;\n    & * {\n        vertical-align: top;\n    }\n"])),80),Ll=d.b.div(oc||(oc=Object(s.a)(["\n    display: inline-block;\n    width: calc(100% - ","px);\n    height: 100%;\n    background-color: #ddc2c2;\n"])),380),Il=d.b.div(rc||(rc=Object(s.a)(["\n    display: inline-block;\n    width: ","px;\n    height: 100%;\n    background-color: #757575;\n"])),380),Tl=t(25),Al=t(26),Dl=function(){var n=Object(c.useContext)(rb),e=n.store,t=n.dispatcher,i=e.scoreState,o=i.sectionCacheList;if(-1===i.focusIndex||i.focusIndex>i.elementCacheList.length)return Object(No.jsx)(No.Fragment,{});var r=i.elementCacheList[i.focusIndex].sectionNo,a=[];return o.forEach((function(n,e){var c=Math.floor(n.beatSum/4),o=n.beatSum%4,s=e===r;a.push(Object(No.jsxs)(Rl,{isActive:s,onClick:function(){i.focusIndex=n.rangeIndexStart,t.score.setScoreState(i)},children:[Object(No.jsx)(Fl,{children:n.labelName}),Object(No.jsxs)(Ml,{children:[c,0===o?"":" (".concat(o,")")]})]},e))})),Object(No.jsx)(No.Fragment,{children:a})},Fl=d.b.div(ac||(ac=Object(s.a)([""]))),Ml=d.b.div(sc||(sc=Object(s.a)([""]))),Rl=d.b.div(lc||(lc=Object(s.a)(["\n    display: inline-block;\n    margin: 4px 4px 0 4px;\n    width: calc(100% - 8px);\n    height: 36px;\n    background-color: "," ;\n    border: 1px solid #aaaaaa;\n    border-radius: 20px 20px 20px 20px;\n\n    text-align: center;\n\n    & "," {\n        display: inline-block;\n        width: 100%;\n        height: 20px;\n        font-size: 18px;\n        font-weight: 600;\n        color: #888;\n        /* background-color: #c500003b; */\n        line-height: 18px;\n    }\n    & "," {\n        display: inline-block;\n        width: 100%;\n        height: 16px;\n        font-size: 14px;\n        font-weight: 600;\n        color: #003eb3;\n        /* background-color: #10c5003a; */\n        line-height: 16px;\n    }\n"])),(function(n){return n.isActive?Object(d.a)(dc||(dc=Object(s.a)(["\n        #e7e7e6be;\n        box-shadow: 0 0 8px 0 #000b3a48;\n    "]))):Object(d.a)(bc||(bc=Object(s.a)(["\n        #c4c4c42b;\n    "])))}),Fl,Ml),Kl=t(24),Nl=t.n(Kl),_l=function(n,e,t,i){e.userEnv.keyConfig.note,e.scoreState.keySwitch;i&&function(n,e,t){e.userEnv.keyConfig.note,e.scoreState.keySwitch;var i=e.tuneState;switch(n.key){case"ArrowUp":case"ArrowDown":break;case"ArrowLeft":i.focusIndex--,t.tune.setState(i);break;case"ArrowRight":i.focusIndex++,t.tune.setState(i);break;case"1":i.quantize=16,t.tune.setState(i);break;case"2":i.quantize=8,t.tune.setState(i);break;case"3":i.quantize=4,t.tune.setState(i);break;case"Delete":var c=e.scoreData.notesList;c.splice(i.focusIndex,1),t.tune.setNotesList(c),i.focusIndex--,t.tune.setState(i)}}(n,e,t)},Bl=function(n){var e=Object(c.useContext)(rb),t=e.store,i=e.dispatcher,o=Object(c.useRef)(null),r=Object(c.useRef)(null),a=t.scoreState,s=t.scoreData.chordList,l=n.barLength,d=n.beatWidth,b=n.curChord,h=n.timelineLength,x=n.mouseMeasurePos,u=n.rate;Object(c.useEffect)((function(){t.refs.melody.measure=o.current,t.refs.melody.chord=r.current}),[]);var p=Object(c.useMemo)((function(){for(var n=[],e=0;e<=4*l*4;e++){var t=Object(No.jsx)(No.Fragment,{});e%16==0&&(t=Object(No.jsx)(Vl,{children:Math.floor(e/16)+1})),n.push(Object(No.jsx)(Gl,{isHead:e%4===0,beatWidth:d,children:t},e))}return n}),[l]),j=Object(c.useMemo)((function(){var n=[];return s.forEach((function(e,t){if("chord"===e.type){var c,o=e.detail,r=null==o.root?"-":O(o.root,0)+(null===(c=C(o.symbolKey))||void 0===c?void 0:c.name);n.push(Object(No.jsx)(ql,{width:d*(o.beatLen+o.minute.head+o.minute.tail),isActive:e==b,onClick:function(){a.isTune=!1,a.focusIndex=t,i.score.setScoreState(a)},children:r},n.length))}})),n}),[s,b]);return Object(No.jsxs)(No.Fragment,{children:[Object(No.jsx)(Hl,{ref:r,children:Object(No.jsx)(Xl,{width:h,children:j})}),Object(No.jsxs)(Pl,{ref:o,children:[p,Object(No.jsx)(Ul,{left:x*d*u,width:d*u})]})]})},Pl=d.b.div(hc||(hc=Object(s.a)(["\n    display: inline-block;\n    position: relative;\n    background: linear-gradient(to bottom, #ffffff, #808080);\n    width: 100%;\n    height: 40px;\n    text-align: left;\n    border-top: solid 2px #000;\n    white-space: nowrap;\n    overflow: hidden;\n"]))),Ul=d.b.div(xc||(xc=Object(s.a)(["\n    display: inline-block;\n    position: absolute;\n    z-index: 10;\n    left: ","px;\n    top: 0px;\n    width: ","px;\n    height: 100%;\n    background-color: #ffff006c;\n"])),(function(n){return n.left}),(function(n){return n.width})),Hl=d.b.div(uc||(uc=Object(s.a)(["\n    display: inline-block;\n    position: relative;\n    background-color: #c0c0c0;\n    width: 100%;\n    height: calc(100% - 40px);\n    text-align: left;\n    white-space: nowrap;\n    overflow: hidden;\n"]))),Xl=d.b.div(pc||(pc=Object(s.a)(["\n    width: ","px;\n    height: 100%;\n    overflow: hidden;\n"])),(function(n){return n.width})),ql=d.b.div(jc||(jc=Object(s.a)(["\n    display: inline-block;\n    width: ","px;\n    height: calc(100% - 2px);\n    box-sizing: border-box;\n    border: 1px solid #646464;\n    border-left: 4px solid #940000;\n    background-color: #ffffff22;\n    ","\n    margin: 1px 0 0 1px;\n    \n    font-size: 18px;\n    font-weight: 600;\n    color: #2b2b2b;\n    text-align: center;\n\n    &:hover {\n        background-color: #fffb0037;\n    }\n"])),(function(n){return n.width-1}),(function(n){return n.isActive?Object(d.a)(fc||(fc=Object(s.a)(["background-color: #5e88af21;"]))):""})),Gl=d.b.div(gc||(gc=Object(s.a)(["\n    display: inline-block;\n    position: relative;\n    /* background-color: #ffffffbe; */\n    width: ","px;\n    vertical-align: bottom;\n    margin-top: 25px;\n    height: ",";\n    box-sizing: border-box;\n    border-left: solid "," #000;\n"])),(function(n){return n.beatWidth/4}),(function(n){return n.isHead?"15px":"10px"}),(function(n){return n.isHead?"2px":"1px"})),Vl=d.b.div(Oc||(Oc=Object(s.a)(["\n    display: inline-block;\n    position: absolute;\n    font-size: 16px;\n    font-weight: 600;\n    color: #ec0000;\n    left: -5px;\n    top: -20px;\n"]))),Yl=function(n){var e=Object(c.useContext)(rb),t=e.store,i=(e.dispatcher,Object(c.useMemo)((function(){var e=[];if(null!=n.curChord){var i=n.curChord.detail,c=C(i.symbolKey),o=i.root;null!=o&&null!=c&&c.structs.forEach((function(n){e.push((o.index+y[n])%12)}))}for(var r=[],a=function(i){var c=(59-i+9)%12,o=Math.floor((59-i+9)/12)+1,a=g[c%12];Wl(o);r.push(Object(No.jsx)($l,{isScale:[0,2,4,5,7,9,11].includes(c),isStruct:e.includes(c),isActive:i===n.mousePitchIndex,onClick:function(){var n=t.instruments.soundfontPlayer;null!=n&&(n.stop(),n.play(a+o,0,{duration:1}))},children:a},i))},s=0;s<60;s++)a(s);return r}),[n.mousePitchIndex,n.curChord]));return Object(No.jsxs)(No.Fragment,{children:[Object(No.jsxs)(Jl,{children:[Object(No.jsx)(Zl,{isActive:!1,children:Object(No.jsx)("div",{children:"hihi"})}),Object(No.jsx)(Zl,{isActive:!1,children:Object(No.jsx)("div",{children:"hi"})}),Object(No.jsx)(Zl,{isActive:!1,children:Object(No.jsx)("div",{children:"mid2"})}),Object(No.jsx)(Zl,{isActive:!1,children:Object(No.jsx)("div",{children:"mid1"})}),Object(No.jsx)(Zl,{isActive:!1,children:Object(No.jsx)("div",{children:"low"})})]}),Object(No.jsx)(Ql,{children:i})]})},Wl=function(n){switch(n){case 0:return"low";case 1:return"mid1";case 2:return"mid2";case 3:return"hi";case 4:return"hihi";default:return""}},Jl=d.b.div(vc||(vc=Object(s.a)(["\n    display: inline-block;\n    width: 30px;\n    height: 100%;\n    vertical-align: top;\n"]))),Ql=d.b.div(kc||(kc=Object(s.a)(["\n    display: inline-block;\n    width: calc(100% - 30px);\n    height: 100%;\n    vertical-align: top;\n"]))),Zl=d.b.div(mc||(mc=Object(s.a)(["\n    display: inline-block;\n    border: 1px solid black;\n    width: 100%;\n    height: 360px;\n    background-color: #f5000065;\n    ","\n    box-sizing: border-box;\n\n    font-size: 18px;\n    color: #dfdfdf;\n    font-weight: 600;\n    & div {\n        width: 360px;\n        transform-origin: top left;\n        transform: rotate(-90deg) translateX(-50%);\n        /* background-color: #fff; */\n    }\n"])),(function(n){return n.isActive?Object(d.a)(yc||(yc=Object(s.a)(["background-color: #ffc40089;"]))):""})),$l=d.b.div(wc||(wc=Object(s.a)(["\n    display: inline-block;\n    width: calc(100% - 20px);\n    border: 1px solid black;\n    ","\n    height: ","px;\n    background-color: #ffffff1f;\n    ","\n    ","\n    box-sizing: border-box;\n\n    padding-left: 5px;\n    line-height: 28px;\n    font-size: 18px;\n    color: #dfdfdf;\n    font-weight: 600;\n"])),(function(n){return n.isScale?Object(d.a)(Sc||(Sc=Object(s.a)(["\n        width: 100%;\n    "]))):""}),Ko,(function(n){return n.isStruct?Object(d.a)(Cc||(Cc=Object(s.a)(["background-color: #c08484b8;"]))):""}),(function(n){return n.isActive?Object(d.a)(Ec||(Ec=Object(s.a)(["background-color: #fbff00ba;"]))):""})),nd=function(n){var e=Object(c.useContext)(rb),t=e.store;e.dispatcher,t.tuneState;return Object(No.jsxs)(ed,{isActive:!1,onClick:function(){},children:[Object(No.jsx)(td,{children:n.icon}),Object(No.jsx)(id,{children:n.name})]})},ed=d.b.div(zc||(zc=Object(s.a)(["\n    display: inline-block;\n    width: 85px;\n    height: 40px;\n    text-align: center;\n    border: 1px solid #4b4b4b;\n    background-color: #e9e9e9da;\n    border-radius: 6px;\n    margin-left: 4px;\n    box-sizing: border-box;\n"]))),td=d.b.div(Lc||(Lc=Object(s.a)(["\n    display: inline-block;\n    width: 100%;\n    height: 30px;\n    /* background-color: #ff0000da; */\n    font-size: 20px;\n    color: #4b4b4b;\n    text-align: center;\n    /* padding-top: 5px; */\n    box-sizing: border-box;\n"]))),id=d.b.div(Ic||(Ic=Object(s.a)(["\n    display: inline-block;\n    width: 100%;\n    height: 10px;\n    /* background-color: #0400ffdc; */\n    font-size: 16px;\n    font-weight: 600;\n    line-height: 0;\n    color: #3b3b3b;\n    text-align: center;\n"]))),cd=function(n){var e=Object(c.useContext)(rb),t=e.store,i=e.dispatcher,o=t.tuneState;return Object(No.jsx)(od,{isActive:o.quantize===n.value,onClick:function(){o.quantize=n.value,i.tune.setState(o)},children:n.value})},od=d.b.div(Tc||(Tc=Object(s.a)(["\n    display: inline-block;\n    width: 100px;\n    height: 28px;\n    background: linear-gradient(to bottom, #e0e0e0, #aaaaaa, #e0e0e0);\n    ","\n    color: #5d6e63;\n    border-radius: 2px;\n    border: solid 1px #747373;\n    font-size: 20px;\n    font-weight: 600;\n    text-align: center;\n\n    margin-left: 4px;\n"])),(function(n){return n.isActive?Object(d.a)(Ac||(Ac=Object(s.a)(["\n        background: linear-gradient(to bottom, #fcff48, #cec073, #fcff48);\n    "]))):""})),rd=function(){var n=Object(c.useContext)(rb),e=n.store;n.dispatcher,e.tuneState;return Object(No.jsxs)(No.Fragment,{children:[Object(No.jsxs)(ad,{children:[Object(No.jsx)(cd,{value:16}),Object(No.jsx)(cd,{value:8}),Object(No.jsx)(cd,{value:4})]}),Object(No.jsxs)(sd,{children:[Object(No.jsx)(nd,{icon:Object(No.jsx)($o.g,{}),name:"violin"}),Object(No.jsx)(nd,{icon:Object(No.jsx)($o.b,{}),name:"e-guitar"}),Object(No.jsx)(nd,{icon:Object(No.jsx)($o.d,{}),name:"saxphone"}),Object(No.jsx)(nd,{icon:Object(No.jsx)($o.f,{}),name:"viola"}),Object(No.jsx)(nd,{icon:Object(No.jsx)($o.e,{}),name:"trumpet"}),Object(No.jsx)(nd,{icon:Object(No.jsx)($o.a,{}),name:"clarinet"}),Object(No.jsx)(nd,{icon:Object(No.jsx)($o.a,{}),name:"oboe"})]})]})},ad=d.b.div(Dc||(Dc=Object(s.a)(["\n    display: block;\n    padding: 4px 4px 4px 0;\n    background-color: #bbbbbb;\n"]))),sd=d.b.div(Fc||(Fc=Object(s.a)(["\n    display: inline-block;\n    /* padding: 4px 4px 4px 0; */\n    background-color: #e4e4e486;\n"]))),ld=function(n){var e=Object(c.useContext)(rb),t=e.store,i=e.dispatcher,o=t.tuneState,r=t.scoreData.chordList,a=Object(c.useRef)(null),s=Object(c.useRef)(null),d=Object(c.useRef)(null),h=Object(c.useState)(!1),x=Object(l.a)(h,2),u=x[0],p=x[1],j=Object(c.useState)({x:0,y:0}),f=Object(l.a)(j,2),g=f[0],O=f[1],v=Object(c.useState)(0),k=Object(l.a)(v,2),m=k[0],y=k[1],w=Object(c.useState)(0),S=Object(l.a)(w,2),C=S[0],E=S[1],z=Object(c.useState)(120),L=Object(l.a)(z,2),I=L[0],T=(L[1],Object(c.useState)(20)),A=Object(l.a)(T,2),D=A[0],F=(A[1],Object(c.useState)({index:-1,side:"normal",isResize:!1})),M=Object(l.a)(F,2),R=M[0],K=M[1],N=Object(c.useState)(null),_=Object(l.a)(N,2),B=_[0],P=_[1],U=Object(c.useState)(0),H=Object(l.a)(U,2),X=H[0],q=H[1],G=Object(c.useState)(0),V=Object(l.a)(G,2),Y=V[0],W=V[1],J=D*I*4,Q=t.scoreData.notesList,Z=4/o.quantize,$=t.scoreState.isTune;Object(c.useEffect)((function(){i.system.setRefs(Object(b.a)(Object(b.a)({},t.refs),{},{melody:Object(b.a)(Object(b.a)({},t.refs.melody),{},{table:s.current,pitch:d.current})})),Nl.a.instrument(new AudioContext,"violin",{gain:4,release:.5}).then((function(n){i.tune.setInstrument(n)}))}),[]),Object(c.useEffect)((function(){$&&null!=a.current&&a.current.focus()}),[$]);var nn=Object(c.useMemo)((function(){for(var n=[],e=0;e<=4*D*4;e++)n.push(Object(No.jsx)(kd,{isHead:e%4===0,beatWidth:I},e));return n}),[D]),en=Object(c.useMemo)((function(){for(var n=[],e=0;e<60;e++){var t=(59-e+9)%12;n.push(Object(No.jsx)(Od,{isScale:[0,2,4,5,7,9,11].includes(t)},e))}return n}),[]),tn=Object(c.useMemo)((function(){var n=[];return Q.forEach((function(e,c){var r=o.focusIndex===c;n.push(Object(No.jsx)(md,{left:e.posX,width:e.length,side:R.side,isActive:c===R.index,isEdit:c===R.index&&R.isResize,onClick:function(n){if(r){if(!R.isResize){var e=t.refs.melody;if(null!=e.table&&null!=e.measure&&null!=e.chord&&null!=e.pitch){var a=e.table.getBoundingClientRect(),s=n.clientY+e.table.scrollTop-a.top;Q[c].pitchIndex=Math.floor(s/Ko),i.tune.setNotesList(Q.slice())}}}else o.focusIndex=c,i.tune.setState(o)},children:Object(No.jsx)(yd,{y:e.pitchIndex*Ko,lenType:e.lenType,children:e.posX})},c))})),n}),[Q,Q.length,o.focusIndex,R]);return Object(No.jsxs)(dd,{tabIndex:999,ref:a,isActive:n.isActive,onKeyDown:function(n){return _l(n,t,i,!0)},onKeyUp:function(n){return _l(n,t,i,!1)},children:[Object(No.jsx)(hd,{children:Object(No.jsx)(rd,{})}),Object(No.jsxs)(xd,{children:[Object(No.jsx)(ud,{children:Object(No.jsx)(Bl,{barLength:D,beatWidth:I,curChord:B,timelineLength:J,mouseMeasurePos:Y,rate:Z})}),Object(No.jsx)(pd,{ref:d,children:Object(No.jsx)(Yl,{mousePitchIndex:X,curChord:B})}),Object(No.jsxs)(jd,{ref:s,onScroll:function(){var n=t.refs.melody;if(null!=n.table&&null!=n.measure&&null!=n.chord&&null!=n.pitch){var e=n.table.scrollLeft,i=n.table.scrollTop;n.measure.scrollTo({left:e}),n.chord.scrollTo({left:e}),n.pitch.scrollTo({top:i})}},children:[Object(No.jsx)(fd,{width:J,children:nn}),Object(No.jsx)(gd,{width:J,children:en}),Object(No.jsxs)(vd,{width:J,onMouseDown:function(n){if(0===n.button){var e=t.refs.melody;if(null!=e.table&&null!=e.measure&&null!=e.chord&&null!=e.pitch){var i=e.table.getBoundingClientRect(),c=n.clientX+e.table.scrollLeft-i.left,o=n.clientY+e.table.scrollTop-i.top;if(-1===R.index){p(!0),O({x:Math.floor(c/I/Z)*I*Z,y:Math.floor(o/Ko)*Ko});var r=Q.find((function(n){return c<n.posX})),a=J;void 0!=r&&(a=r.posX),E(a),y(0)}else if("right"===R.side){var s=Q[R.index];R.isResize=!0,K(Object(b.a)({},R)),O({x:Math.floor(c/I/Z)*I*Z-s.length,y:0})}}}},onMouseMove:function(n){if(0===n.button){var e=t.refs.melody;if(null!=e.table&&null!=e.measure&&null!=e.chord&&null!=e.pitch){var c=e.table.getBoundingClientRect(),o=n.clientX+e.table.scrollLeft-c.left,a=n.clientY+e.table.scrollTop-c.top;if(u||R.isResize){if(u){var s=(Math.floor(o/I/Z)+1)*I*Z;y((s>C?C:s)-g.x)}if(R.isResize){var l=Math.floor(o/I/Z)*I*Z;Q[R.index].length=(l>C?C:l)-g.x,i.tune.setNotesList(Q.slice())}}else{q(Math.floor(a/Ko)),W(Math.floor(o/I/Z));var d=0,h=r.find((function(n){if("chord"===n.type){var e=n.detail.beatLen*I;if(o>=d&&o<d+e)return n;d+=e}}));P(void 0==h?null:h),R.index=-1;for(var x=0;x<Q.length;x++){var p=Q[x],j=p.posX,f=p.posX+p.length;o>=j&&o<=f&&(R.index=x,R.side=o<j+10?"left":o>f-10?"right":"normal")}K(Object(b.a)({},R))}}}},onMouseUp:function(n){if(0===n.button&&(u&&(p(!1),m>0&&(Q.push({posX:g.x,pitchIndex:Math.floor(g.y/Ko),length:m,lenType:m%I===0?4:m%(I/2)===0?8:16}),Q.sort((function(n,e){return n.posX===e.posX?0:n.posX<e.posX?-1:1})),i.tune.setNotesList(Q))),R.isResize)){R.isResize=!1,K(Object(b.a)({},R));var e=Q[R.index];e.lenType=e.length%I===0?4:e.length%(I/2)===0?8:16,i.tune.setNotesList(Q.slice())}},children:[u?Object(No.jsx)(bd,{x:g.x,y:g.y,width:m,lenType:m%I===0?4:m%(I/2)===0?8:16}):Object(No.jsx)(No.Fragment,{}),tn]})]})]})]})},dd=d.b.div(Mc||(Mc=Object(s.a)(["\n    display: ",";\n    width: 100%;\n    height: 100%;\n    outline: none;\n"])),(function(n){return n.isActive?"inline-block":"none"})),bd=d.b.div(Rc||(Rc=Object(s.a)(["\n    display: inline-block;\n    position: absolute;\n    left: ","px;\n    top: ","px;\n    width: ","px;\n    height: ","px;\n    background-color: ",";\n"])),(function(n){return n.x}),(function(n){return n.y}),(function(n){return n.width}),Ko,(function(n){switch(n.lenType){case 4:return"#f74646";case 8:return"#467ef7";case 16:return"#46f79f"}})),hd=d.b.div(Kc||(Kc=Object(s.a)(["\n    display: inline-block;\n    width: 100%;\n    height: ","px;\n    background-color: #b3b3b3;\n"])),80),xd=d.b.div(Nc||(Nc=Object(s.a)(["\n    display: inline-block;\n    width: 100%;\n    height: calc(100% - ","px);\n    background-color: #464646;\n"])),80),ud=d.b.div(_c||(_c=Object(s.a)(["\n    display: inline-block;\n    margin-left: ","px;\n    width: calc(100% - ","px - 10px);\n    height: ","px;\n    background-color: #534b81;\n    overflow-y: hidden;\n"])),Ro,Ro,70),pd=d.b.div(Bc||(Bc=Object(s.a)(["\n    display: inline-block;\n    width: ","px;\n    height: calc(100% - ","px - 10px);\n    background-color: #534b81;\n    vertical-align: top;\n    overflow-y: hidden;\n"])),Ro,70),jd=d.b.div(Pc||(Pc=Object(s.a)(["\n    display: inline-block;\n    position: relative;\n    width: calc(100% - ","px);\n    height: calc(100% - ","px);\n    background-color: #bdbdbd;\n    vertical-align: top;\n    overflow: scroll;\n    &::-webkit-scrollbar {\n        width: 10px;\n        height: 10px;\n    }\n    &::-webkit-scrollbar-thumb {\n        border-radius: 5px;\n        background: #1959A8;\n    }\n    &::-webkit-scrollbar-track {\n        border-radius: 5px;\n        box-shadow: 0 0 4px #aaa inset;\n    }\n"])),Ro,70),fd=d.b.div(Uc||(Uc=Object(s.a)(["\n    display: inline-block;\n    position: absolute;\n    top: 0;\n    left: 0;\n    z-index: 3;\n    width: ","px;\n    height: ","px;\n    white-space: nowrap;\n"])),(function(n){return n.width}),1800),gd=d.b.div(Hc||(Hc=Object(s.a)(["\n    display: inline-block;\n    position: absolute;\n    top: 0;\n    left: 0;\n    /* z-index: 6; */\n    width: ","px;\n    height: ","px;\n    /* pointer-events: none; */\n"])),(function(n){return n.width}),1800),Od=d.b.div(Xc||(Xc=Object(s.a)(["\n    display: inline-block;\n    width: 100%;\n    height: ","px;\n    margin: 1px 0 0 0;\n    background-color: #00000024;\n    ","\n    /* &:hover {\n        background-color: #ffffff22;\n    } */\n"])),29,(function(n){return n.isScale?Object(d.a)(qc||(qc=Object(s.a)(["\n        background-color: #69696921;\n    "]))):""})),vd=d.b.div(Gc||(Gc=Object(s.a)(["\n    display: inline-block;\n    position: absolute;\n    top: 0;\n    left: 0;\n    z-index: 5;\n    width: ","px;\n    height: ","px;\n    cursor: crosshair;\n"])),(function(n){return n.width}),1800),kd=d.b.div(Vc||(Vc=Object(s.a)(["\n    display: inline-block;\n    /* background-color: #ffffffbe; */\n    width: ","px;\n    vertical-align: top;\n    height: ","px;\n    box-sizing: border-box;\n    border-left: solid "," #757575;\n"])),(function(n){return n.beatWidth/4}),1800,(function(n){return n.isHead?"2px":"1px"})),md=d.b.div(Yc||(Yc=Object(s.a)(["\n    display: inline-block;\n    position: absolute;\n    z-index: 9;\n    left: ","px;\n    top: 0;\n    width: ","px;\n    height: 100%;\n    cursor: default;\n    background-color: #0044ff1f;\n    ","\n    ","\n    /* border-left: 1px solid #ff0000b2; */\n    ","\n    box-sizing: border-box;\n"])),(function(n){return n.left}),(function(n){return n.width}),(function(n){return n.isActive?Object(d.a)(Wc||(Wc=Object(s.a)(["\n        background-color: #bddfff34;\n    "]))):""}),(function(n){return n.isEdit?Object(d.a)(Jc||(Jc=Object(s.a)(["\n        background-color: #ff00006e;\n    "]))):""}),(function(n){return n.isActive?"left"===n.side?Object(d.a)(Qc||(Qc=Object(s.a)(["\n        border-left: 3px solid #0026ffb1;\n        cursor : col-resize;\n    "]))):"right"===n.side?Object(d.a)(Zc||(Zc=Object(s.a)(["\n        border-right: 3px solid #0026ffb1;\n        cursor : col-resize;\n    "]))):"":""})),yd=d.b.div($c||($c=Object(s.a)(["\n    display: inline-block;\n    position: absolute;\n    z-index: 10;\n    top: ","px;\n    width: 100%;\n    height: ","px;\n    /* background-color: red; */\n    background: linear-gradient(to bottom, ",");\n    /* border: 1px solid #000; */\n    box-sizing: border-box;\n    font-size: 12px;\n    color: #000000;\n    box-shadow: 0 0 22px 0 #0000007d;\n    &:hover {\n        opacity: 0.8;\n    }\n"])),(function(n){return n.y}),Ko,(function(n){switch(n.lenType){case 4:return"#f8525232, #ff0000, #f8525232";case 8:return"#5d52f831, #0400ff, #5d52f831";case 16:return"#52f85a31, #00ff15, #52f85a31"}})),wd=function(){var n=Object(c.useContext)(rb),e=n.store,t=n.dispatcher,i=e.scoreState,o=function(){i.isTune=!i.isTune,t.score.setScoreState(i)};return 0===e.scoreData.chordList.length?Object(No.jsx)(No.Fragment,{}):Object(No.jsxs)(Sd,{children:[Object(No.jsxs)(Cd,{children:[Object(No.jsxs)(Ed,{children:[Object(No.jsx)(zd,{isActive:!i.isTune,onClick:function(){i.isTune&&o()},children:"Harmonize"}),Object(No.jsx)(zd,{isActive:i.isTune,onClick:function(){i.isTune||o()},children:"Melody"})]}),Object(No.jsxs)(Ld,{children:[Object(No.jsx)(br,{labelText:Object(No.jsxs)(No.Fragment,{children:[Object(No.jsx)(Tl.a,{})," Help"]}),size:"midium",width:100}),Object(No.jsx)(br,{labelText:Object(No.jsxs)(No.Fragment,{children:[Object(No.jsx)(Qo.b,{})," Play"]}),size:"midium",width:100}),Object(No.jsx)(br,{labelText:Object(No.jsxs)(No.Fragment,{children:[Object(No.jsx)(Al.a,{})," Stop"]}),size:"midium",width:100}),Object(No.jsx)(br,{labelText:Object(No.jsxs)(No.Fragment,{children:[Object(No.jsx)(Qo.c,{})," Setting"]}),size:"midium",width:110})]})]}),Object(No.jsxs)(Id,{tabIndex:999,onKeyDown:function(n){switch(n.key){case"r":o()}},children:[Object(No.jsx)(Td,{children:Object(No.jsx)(Dl,{})}),Object(No.jsxs)(Ad,{children:[Object(No.jsx)(kl,{isActive:!i.isTune}),Object(No.jsx)(ld,{isActive:i.isTune})]})]})]})},Sd=d.b.div(no||(no=Object(s.a)(["\n    width: 100%;\n    height: 100%;\n    outline: none;\n"]))),Cd=d.b.div(eo||(eo=Object(s.a)(["\n    display: inline-block;\n    width: 100%;\n    height: 35px;\n    background-color: #ececec;\n"]))),Ed=d.b.div(to||(to=Object(s.a)(["\n    display: inline-block;\n    /* width: 300px; */\n    height: 100%;\n    text-align: center;\n    margin-right: 20px;\n"]))),zd=d.b.div(io||(io=Object(s.a)(["\n    display: inline-block;\n    /* width: 300px; */\n    width: 140px;\n    height: calc(100% - 8px);\n    /* background-color: #e0ff6f55; */\n    ","\n    margin: 4px 0 0 4px;\n\n    font-size: 18px;\n    font-weight: 600;\n    color: #505050;\n    border-radius: 5px;\n    border: 1px solid #969696;\n    box-sizing: border-box;\n    &:hover {\n        background-color: #e0ff6f55;\n        ","\n    }\n"])),(function(n){return n.isActive?Object(d.a)(co||(co=Object(s.a)(["background-color: #f3b200c0;"]))):""}),(function(n){return n.isActive?Object(d.a)(oo||(oo=Object(s.a)(["background-color: #f3b200c0;"]))):""})),Ld=d.b.div(ro||(ro=Object(s.a)(["\n    display: inline-block;\n    /* width: 300px; */\n    height: 100%;\n    /* background-color: #e0ff6f55; */\n\n    & * {\n        margin: 3px 0 0 5px;\n    }\n"]))),Id=d.b.div(ao||(ao=Object(s.a)(["\n    display: inline-block;\n    width: 100%;\n    height: calc(100% - 35px);\n    background-color: #c50000;\n    outline: none;\n"]))),Td=d.b.div(so||(so=Object(s.a)(["\n    display: inline-block;\n    width: ","px;\n    height: 100%;\n    background-color: #d8d8d8;\n    border-right: 1px solid #3e3f57;\n    box-sizing: border-box;\n    vertical-align: top;\n"])),110),Ad=d.b.div(lo||(lo=Object(s.a)(["\n    display: inline-block;\n    width: calc(100% - ","px);\n    height: 100%;\n    background-color: #dddddd;\n    vertical-align: top;\n"])),110),Dd=function(){var n=Object(c.useContext)(rb),e=n.store,t=n.dispatcher,i=-1!==e.scoreState.focusIndex;return Object(No.jsx)(Fd,{children:Object(No.jsx)(nr,{tabElements:[{name:"Manage",disable:!1,cont:Object(No.jsx)(ar,{})},{name:"Edit",disable:!i,cont:Object(No.jsx)(wd,{})},{name:"Thema",disable:!i,cont:Object(No.jsx)("div",{})},{name:"Preview",disable:!i,cont:Object(No.jsx)("div",{})}],activeNo:e.systemState.scoreTabIndex,selectTabIndex:function(n){return t.score.setScoreTabIndex(n)}})})},Fd=d.b.div(bo||(bo=Object(s.a)(["\n    display: inline-block;\n    position: relative;\n    margin: ","px 0 0 ","px;\n    width: calc(100% - ","px);\n    height: calc(100% - ","px);\n    background-color: transparent;\n    /* background-color: #c3d8dd6f; */\n    /* border: solid 1px black;\n    border-radius: 5px; */\n    /* box-shadow: 0 2px 14px 4px #000b3a48; */\n"])),8,8,16,16),Md=function(){var n=Object(c.useContext)(rb),e=n.store,t=n.dispatcher;return Object(No.jsx)(Rd,{children:Object(No.jsx)(nr,{tabElements:[{name:"Sound",disable:!0,cont:Object(No.jsx)("div",{})},{name:"Design",disable:!0,cont:Object(No.jsx)("div",{})}],activeNo:e.systemState.scoreTabIndex,selectTabIndex:function(n){return t.score.setScoreTabIndex(n)}})})},Rd=d.b.div(ho||(ho=Object(s.a)(["\n    display: inline-block;\n    position: relative;\n    margin: ","px 0 0 ","px;\n    width: calc(100% - ","px);\n    height: calc(100% - ","px);\n    background-color: transparent;\n    /* background-color: #c3d8dd6f; */\n    /* border: solid 1px black;\n    border-radius: 5px; */\n    /* box-shadow: 0 2px 14px 4px #000b3a48; */\n"])),8,8,16,16),Kd=function(){var n=Object(c.useContext)(rb),e=n.store,t=(n.dispatcher,e.instruments.sampler),i=function(n,e){var i=[];return i.push(Object(No.jsx)(Pd,{children:Object(No.jsx)("div",{children:n})},i.length)),e.forEach((function(n){var e=n.degree,c=(e.isFlat?u:p)[e.index],o=(e.isFlat?f:g)[e.index],r=C(n.symbolKey).name;i.push(Object(No.jsxs)(Ud,{onMouseDown:function(e){0===e.button&&(t.releaseAll(),C(n.symbolKey).structs.map((function(e){var t=y[e];return 36+n.degree.index+t})).forEach((function(n){var e=g[n%12]+Math.floor(n/12);t.triggerAttack(e,"+0",.5)})))},children:[Object(No.jsxs)("div",{children:[c,r]}),Object(No.jsxs)("div",{children:[o,r]})]},i.length))})),Object(No.jsx)(_d,{children:i})};return Object(No.jsxs)(Nd,{onMouseDown:function(n){2===n.button&&t.releaseAll()},children:[i("Diatonic Triad",[{degree:{index:0,isFlat:!1},symbolKey:"major"},{degree:{index:2,isFlat:!1},symbolKey:"minor"},{degree:{index:4,isFlat:!1},symbolKey:"minor"},{degree:{index:5,isFlat:!1},symbolKey:"major"},{degree:{index:7,isFlat:!1},symbolKey:"major"},{degree:{index:9,isFlat:!1},symbolKey:"minor"},{degree:{index:11,isFlat:!1},symbolKey:"minor-minus5"}]),i("Diatonic Tetrad",[{degree:{index:0,isFlat:!1},symbolKey:"major-maj7th"},{degree:{index:2,isFlat:!1},symbolKey:"minor-7th"},{degree:{index:4,isFlat:!1},symbolKey:"minor-7th"},{degree:{index:5,isFlat:!1},symbolKey:"major-maj7th"},{degree:{index:7,isFlat:!1},symbolKey:"major-min7th"},{degree:{index:9,isFlat:!1},symbolKey:"minor-7th"},{degree:{index:11,isFlat:!1},symbolKey:"minor7-minus5"}]),i("Parallel Triad",[{degree:{index:0,isFlat:!0},symbolKey:"minor"},{degree:{index:2,isFlat:!0},symbolKey:"major"},{degree:{index:3,isFlat:!0},symbolKey:"major"},{degree:{index:5,isFlat:!0},symbolKey:"minor"},{degree:{index:7,isFlat:!0},symbolKey:"minor"},{degree:{index:8,isFlat:!0},symbolKey:"major"},{degree:{index:10,isFlat:!0},symbolKey:"major"}]),i("Secondary Dominant",[{degree:{index:7,isFlat:!1},symbolKey:"major-min7th"},{degree:{index:9,isFlat:!1},symbolKey:"major-min7th"},{degree:{index:11,isFlat:!1},symbolKey:"major-min7th"},{degree:{index:0,isFlat:!1},symbolKey:"major-min7th"},{degree:{index:2,isFlat:!1},symbolKey:"major-min7th"},{degree:{index:4,isFlat:!1},symbolKey:"major-min7th"},{degree:{index:10,isFlat:!1},symbolKey:"major-min7th"}])]})},Nd=d.b.div(xo||(xo=Object(s.a)(["\n    display: inline-block;\n    position: relative;\n    width: calc(100% - 8px);\n    height: calc(100% - 8px);\n    margin: 4px 0 0 4px;\n    background-color: #c3d8dd6f;\n    border: solid 1px #888;\n    border-radius: 5px;\n    box-sizing: border-box;\n"]))),_d=d.b.div(uo||(uo=Object(s.a)(["\n    display: inline-block;\n    width: 160px;\n    background-color: #bbbbbb;\n    padding-bottom: 5px;\n"]))),Bd=d.b.div(po||(po=Object(s.a)(["\n    display: inline-block;\n    width: 150px;\n    height: 80px;\n    margin: 5px 0 0 5px;\n    box-sizing: border-box;\n    border-radius: 4px;\n"]))),Pd=Object(d.b)(Bd)(jo||(jo=Object(s.a)(["\n    background-color: #51608f;\n    /* border: 1px solid #dfdfdf; */\n    font-weight: 600;\n    & div:nth-child(1) {\n        width: 100%;\n        text-align: center;\n        height: 100%;\n        font-size: 26px;\n        color: #ebebeb;\n    }\n"]))),Ud=Object(d.b)(Bd)(fo||(fo=Object(s.a)(["\n    background-color: #e0ebe5;\n    border: 1px solid #777;\n    & *{\n        width: 100%;\n        text-align: center;\n        height: 50%;\n    }\n    & div:nth-child(1) {\n        font-size: 26px;\n        color: #d40000;\n    }\n    & div:nth-child(2) {\n        font-size: 24px;\n        color: #000000;\n    }\n    &:hover {\n        background-color: #fcf29f;\n    }\n"]))),Hd=function(){var n=Object(c.useContext)(rb),e=n.store,t=n.dispatcher;return Object(No.jsx)(Xd,{children:Object(No.jsx)(Uo,{tabElements:[{name:"Home",icon:Object(No.jsx)(Qo.a,{}),disable:!0,cont:Object(No.jsx)("div",{})},{name:"Perform",icon:Object(No.jsx)(Zo.b,{}),disable:!0,cont:Object(No.jsx)(Kd,{})},{name:"Score",icon:Object(No.jsx)($o.c,{}),disable:!0,cont:Object(No.jsx)(Dd,{})},{name:"Option",icon:Object(No.jsx)(Zo.a,{}),disable:!0,cont:Object(No.jsx)(Md,{})}],activeNo:e.systemState.mainChannelIndex,selectTabIndex:function(n){return t.system.setMainTabIndex(n)}})})},Xd=d.b.div(go||(go=Object(s.a)(["\n    display: inline-block;\n    position: relative;\n    margin: ","px 0 0 ","px;\n    width: calc(100% - ","px);\n    height: calc(100% - ","px);\n    background-color: transparent;\n    /* background-color: #c3d8dd6f; */\n    /* border: solid 1px black;\n    border-radius: 5px; */\n    /* box-shadow: 0 2px 14px 4px #000b3a48; */\n"])),15,15,30,30),qd=function(){var n=Object(c.useContext)(rb),e=(n.store,n.dispatcher),t=Object(c.useState)(!1),i=Object(l.a)(t,2),o=i[0],r=i[1],a=Object(c.useState)(),s=Object(l.a)(a,2),d=s[0],b=s[1];return Object(c.useEffect)((function(){b(setTimeout((function(){r(!0)}),3e3))}),[]),Object(c.useEffect)((function(){o&&setTimeout((function(){e.system.switchSplashToMain()}),500)}),[o]),Object(No.jsx)(Gd,{isSwitch:o,onClick:function(n){clearTimeout(d),r(!0)},children:Object(No.jsxs)(Yd,{children:[Object(No.jsx)("span",{children:"L"}),"iCreSia"]})})},Gd=d.b.div(Oo||(Oo=Object(s.a)(["\n    display: inline-block;\n    position: absolute;\n    left: 0;\n    top: 0;\n    z-index: 10;\n    /* width: 500px;\n    height: 500px; */\n    width: 100%;\n    height: 100%;\n    /* background-color: #d8d8d8; */\n    background: radial-gradient(#868686, #ffffff);\n    opacity: ",";\n    transition: opacity 500ms;\n"])),(function(n){return n.isSwitch?"0":"1"})),Vd=Object(d.c)(vo||(vo=Object(s.a)(["\n  0%, 100% {\n    opacity: 0.4;\n  }\n  50% {\n    opacity: 1;\n  }\n"]))),Yd=d.b.div(ko||(ko=Object(s.a)(["\n    display: inline-block;\n    position: relative;\n    margin-top: 15%;\n    width: 100%;\n    height: 400px;\n    background-color: #ffffff1f;\n    /* background: linear-gradient(to bottom, #99999913, #ffffff13,#ffffff13,#ffffff13, #99999913); */\n    color: white;\n    font-size: 130px;\n    font-weight: 600;\n    text-align: center;\n    text-shadow: 1px 2px 22px #0000003d;\n    line-height: 350px;\n    animation: "," 3s linear infinite;\n    & span {\n        color: red;\n        font-size: 160px;\n    }\n"])),Vd),Wd=t(27),Jd=t(28),Qd=function(){return Object(No.jsxs)(Zd,{children:[Object(No.jsxs)($d,{children:[Object(No.jsx)(eb,{children:"L"}),Object(No.jsx)(nb,{children:"iCreSia"})]}),Object(No.jsxs)(tb,{children:[Object(No.jsxs)(cb,{children:[Object(No.jsx)("div",{children:Object(No.jsx)(Wd.a,{})}),"Login / Sign up"]}),Object(No.jsx)(ob,{children:Object(No.jsx)("div",{children:Object(No.jsx)(Jd.a,{})})})]})]})},Zd=d.b.div(mo||(mo=Object(s.a)(["\n    display: inline-block;\n    position: relative;\n    width: 100%;\n    height: ","px;\n    background: linear-gradient(to bottom, #ececec, #e2e2e2, #eeeeee);\n    /* background-color: #c2c2c2; */\n    box-shadow: 0 0 8px 0 #000b3a48;\n"])),44),$d=d.b.div(yo||(yo=Object(s.a)(["\n    display: inline-block;\n    margin: 2px 0 0 10px;\n    width: 200px;\n    height: calc(100% - 4px);\n    /* background-color: #00000013; */\n    font-size: 34px;\n    font-weight: 600;\n    line-height: 36px;\n    text-shadow: 1px 2px 3px #8080806a;\n"]))),nb=d.b.span(wo||(wo=Object(s.a)(["\n    color: #ffffff;\n"]))),eb=d.b.span(So||(So=Object(s.a)(["\n    font-size: 34px;\n    color: #da4242;\n"]))),tb=d.b.div(Co||(Co=Object(s.a)(["\n    display: inline-block;\n    /* width: 300px; */\n    height: 100%;\n    position: absolute;\n    right: 30px;\n    /* background-color: #ff00002b; */\n"]))),ib=d.b.div(Eo||(Eo=Object(s.a)(["\n    background-color: #c9c7c7;\n    &:hover {\n        background-color: #cf9bae;\n    }\n    transition: background-color 800ms;\n"]))),cb=Object(d.b)(ib)(zo||(zo=Object(s.a)(["\n    display: inline-block;\n    width: 240px;\n    margin: 5px 10px 0 0;\n    height: calc(100% - 10px);\n    border-radius: 20px;\n    /* background: linear-gradient(to bottom, #e9baba, #d39d9d, #e9baba); */\n    /* background-color: #adadad; */\n    /* border: 1px solid #7e7e7e; */\n    /* box-shadow: 0 0 8px 0 #000b3a48; */\n    /* text-shadow: 1px 2px 3px #808080ba; */\n    text-align: center;\n    font-size: 22px;\n    font-weight: 600;\n    line-height: 28px;\n    color: #ffffff;\n    vertical-align: top;\n\n    & div {\n        display: inline-block;\n        /* background-color: #0000007d; */\n        margin: 2px 5px 0 0;\n        vertical-align: top;\n    }\n"]))),ob=Object(d.b)(ib)(Lo||(Lo=Object(s.a)(["\n    display: inline-block;\n    width: ","px;\n    height: ","px;\n    margin: 3px 0 0 0;\n    border-radius: 50%;\n    /* background: linear-gradient(to bottom, #e9baba, #d39d9d, #e9baba); */\n    /* background-color: #48aa9d; */\n    /* border: 1px solid #7e7e7e; */\n    /* box-shadow: 0 0 8px 0 #000b3a48; */\n    /* text-shadow: 1px 2px 3px #808080ba; */\n    /* text-align: center; */\n    font-size: 28px;\n    font-weight: 600;\n    color: #ffffff;\n    & div {\n        display: inline-block;\n        margin: 2px 0 0 5px;\n        /* background-color: #0000007d; */\n        vertical-align: top;\n    }\n"])),38,38),rb=Object(c.createContext)({}),ab=function(){var n=Object(c.useReducer)(Ao,Mo),e=Object(l.a)(n,2),t=e[0],i=e[1],o=new Fo(t,i);return Object(No.jsx)(rb.Provider,{value:{store:t,dispatcher:o},children:Object(No.jsxs)(No.Fragment,{children:[t.systemState.isSplash?Object(No.jsx)(qd,{}):Object(No.jsx)(No.Fragment,{}),Object(No.jsxs)(sb,{children:[Object(No.jsx)(_o,{}),Object(No.jsx)(Qd,{}),Object(No.jsx)(lb,{children:Object(No.jsx)(Hd,{})})]})]})})},sb=d.b.div(Io||(Io=Object(s.a)(["\n    display: inline-block;\n    position: relative;\n    width: 100%;\n    height: 100%;\n    background-color: #d8d8d8;\n"]))),lb=d.b.div(To||(To=Object(s.a)(["\n    display: inline-block;\n    width: 100%;\n    height: calc(100% - ","px);\n    /* background-color: #c2c2c2; */\n"])),44);var db=function(){return Object(c.useEffect)((function(){document.oncontextmenu=function(){return!1},window.addEventListener("keydown",(function(n){[32,37,38,39,40].indexOf(n.keyCode)>-1&&n.preventDefault()}),!1)}),[]),Object(No.jsx)(ab,{})},bb=function(n){n&&n instanceof Function&&t.e(3).then(t.bind(null,62)).then((function(e){var t=e.getCLS,i=e.getFID,c=e.getFCP,o=e.getLCP,r=e.getTTFB;t(n),i(n),c(n),o(n),r(n)}))};a.a.render(Object(No.jsx)(o.a.StrictMode,{children:Object(No.jsx)(db,{})}),document.getElementById("root")),bb()}},[[61,1,2]]]);
//# sourceMappingURL=main.eecf65df.chunk.js.map